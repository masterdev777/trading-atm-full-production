import{r as h,R as pe,n as xt,o as Pt}from"./index-DrCav_3M.js";import{f as ut,_ as Ne,c as xe,d as ye,e as re,h as he,q as Et,i as Me,b as Ot,a6 as Rt,a7 as $t,n as kt,w as He,g as Dt,m as It,r as Ht,u as ue,a8 as Lt,C as Tt,D as jt}from"./zoom-aYa48e4y.js";import{u as Bt,T as Ft}from"./index--VE_Fliw.js";import{K as ne}from"./index-CG29IOBp.js";import"./index-DcfIKM1A.js";import{r as zt}from"./index-Chjiymov.js";function Ue(e,n,d){return(e-n)/(d-n)}function We(e,n,d,i){var v=Ue(n,d,i),o={};switch(e){case"rtl":o.right="".concat(v*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(v*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(v*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(v*100,"%"),o.transform="translateX(-50%)";break}return o}function $e(e,n){return Array.isArray(e)?e[n]:e}var Ee=h.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),_t=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],ot=h.forwardRef(function(e,n){var d=e.prefixCls,i=e.value,v=e.valueIndex,o=e.onStartMove,P=e.style,b=e.render,E=e.dragging,M=e.onOffsetChange,D=e.onChangeComplete,I=e.onFocus,L=e.onMouseEnter,$=ut(e,_t),y=h.useContext(Ee),f=y.min,C=y.max,w=y.direction,l=y.disabled,O=y.keyboard,j=y.range,H=y.tabIndex,B=y.ariaLabelForHandle,F=y.ariaLabelledByForHandle,Y=y.ariaValueTextFormatterForHandle,A=y.styles,R=y.classNames,N="".concat(d,"-handle"),X=function(p){l||o(p,v)},s=function(p){I==null||I(p,v)},S=function(p){L(p,v)},u=function(p){if(!l&&O){var x=null;switch(p.which||p.keyCode){case ne.LEFT:x=w==="ltr"||w==="btt"?-1:1;break;case ne.RIGHT:x=w==="ltr"||w==="btt"?1:-1;break;case ne.UP:x=w!=="ttb"?1:-1;break;case ne.DOWN:x=w!=="ttb"?-1:1;break;case ne.HOME:x="min";break;case ne.END:x="max";break;case ne.PAGE_UP:x=2;break;case ne.PAGE_DOWN:x=-2;break}x!==null&&(p.preventDefault(),M(x,v))}},m=function(p){switch(p.which||p.keyCode){case ne.LEFT:case ne.RIGHT:case ne.UP:case ne.DOWN:case ne.HOME:case ne.END:case ne.PAGE_UP:case ne.PAGE_DOWN:D==null||D();break}},t=We(w,i,f,C),a={};if(v!==null){var r;a={tabIndex:l?null:$e(H,v),role:"slider","aria-valuemin":f,"aria-valuemax":C,"aria-valuenow":i,"aria-disabled":l,"aria-label":$e(B,v),"aria-labelledby":$e(F,v),"aria-valuetext":(r=$e(Y,v))===null||r===void 0?void 0:r(i),"aria-orientation":w==="ltr"||w==="rtl"?"horizontal":"vertical",onMouseDown:X,onTouchStart:X,onFocus:s,onMouseEnter:S,onKeyDown:u,onKeyUp:m}}var c=h.createElement("div",Ne({ref:n,className:xe(N,ye(ye({},"".concat(N,"-").concat(v+1),v!==null&&j),"".concat(N,"-dragging"),E),R.handle),style:re(re(re({},t),P),A.handle)},a,$));return b&&(c=b(c,{index:v,prefixCls:d,value:i,dragging:E})),c}),At=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],Nt=h.forwardRef(function(e,n){var d=e.prefixCls,i=e.style,v=e.onStartMove,o=e.onOffsetChange,P=e.values,b=e.handleRender,E=e.activeHandleRender,M=e.draggingIndex,D=e.onFocus,I=ut(e,At),L=h.useRef({});h.useImperativeHandle(n,function(){return{focus:function(H){var B;(B=L.current[H])===null||B===void 0||B.focus()}}});var $=h.useState(-1),y=he($,2),f=y[0],C=y[1],w=function(H,B){C(B),D==null||D(H)},l=function(H,B){C(B)},O=re({prefixCls:d,onStartMove:v,onOffsetChange:o,render:b,onFocus:w,onMouseEnter:l},I);return h.createElement(h.Fragment,null,P.map(function(j,H){return h.createElement(ot,Ne({ref:function(F){F?L.current[H]=F:delete L.current[H]},dragging:M===H,style:$e(i,H),key:H,value:j,valueIndex:H},O))}),E&&h.createElement(ot,Ne({key:"a11y"},O,{value:P[f],valueIndex:null,dragging:M!==-1,render:E,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Ut=function(n){var d=n.prefixCls,i=n.style,v=n.children,o=n.value,P=n.onClick,b=h.useContext(Ee),E=b.min,M=b.max,D=b.direction,I=b.includedStart,L=b.includedEnd,$=b.included,y="".concat(d,"-text"),f=We(D,o,E,M);return h.createElement("span",{className:xe(y,ye({},"".concat(y,"-active"),$&&I<=o&&o<=L)),style:re(re({},f),i),onMouseDown:function(w){w.stopPropagation()},onClick:function(){P(o)}},v)},Wt=function(n){var d=n.prefixCls,i=n.marks,v=n.onClick,o="".concat(d,"-mark");return i.length?h.createElement("div",{className:o},i.map(function(P){var b=P.value,E=P.style,M=P.label;return h.createElement(Ut,{key:b,prefixCls:o,style:E,value:b,onClick:v},M)})):null},qt=function(n){var d=n.prefixCls,i=n.value,v=n.style,o=n.activeStyle,P=h.useContext(Ee),b=P.min,E=P.max,M=P.direction,D=P.included,I=P.includedStart,L=P.includedEnd,$="".concat(d,"-dot"),y=D&&I<=i&&i<=L,f=re(re({},We(M,i,b,E)),typeof v=="function"?v(i):v);return y&&(f=re(re({},f),typeof o=="function"?o(i):o)),h.createElement("span",{className:xe($,ye({},"".concat($,"-active"),y)),style:f})},Xt=function(n){var d=n.prefixCls,i=n.marks,v=n.dots,o=n.style,P=n.activeStyle,b=h.useContext(Ee),E=b.min,M=b.max,D=b.step,I=h.useMemo(function(){var L=new Set;if(i.forEach(function(y){L.add(y.value)}),v&&D!==null)for(var $=E;$<=M;)L.add($),$+=D;return Array.from(L)},[E,M,D,v,i]);return h.createElement("div",{className:"".concat(d,"-step")},I.map(function(L){return h.createElement(qt,{prefixCls:d,key:L,value:L,style:o,activeStyle:P})}))},it=function(n){var d=n.prefixCls,i=n.style,v=n.start,o=n.end,P=n.index,b=n.onStartMove,E=n.replaceCls,M=h.useContext(Ee),D=M.direction,I=M.min,L=M.max,$=M.disabled,y=M.range,f=M.classNames,C="".concat(d,"-track"),w=Ue(v,I,L),l=Ue(o,I,L),O=function(F){!$&&b&&b(F,-1)},j={};switch(D){case"rtl":j.right="".concat(w*100,"%"),j.width="".concat(l*100-w*100,"%");break;case"btt":j.bottom="".concat(w*100,"%"),j.height="".concat(l*100-w*100,"%");break;case"ttb":j.top="".concat(w*100,"%"),j.height="".concat(l*100-w*100,"%");break;default:j.left="".concat(w*100,"%"),j.width="".concat(l*100-w*100,"%")}var H=E||xe(C,ye(ye({},"".concat(C,"-").concat(P+1),P!==null&&y),"".concat(d,"-track-draggable"),b),f.track);return h.createElement("div",{className:H,style:re(re({},j),i),onMouseDown:O,onTouchStart:O})},Yt=function(n){var d=n.prefixCls,i=n.style,v=n.values,o=n.startPoint,P=n.onStartMove,b=h.useContext(Ee),E=b.included,M=b.range,D=b.min,I=b.styles,L=b.classNames,$=h.useMemo(function(){if(!M){if(v.length===0)return[];var f=o??D,C=v[0];return[{start:Math.min(f,C),end:Math.max(f,C)}]}for(var w=[],l=0;l<v.length-1;l+=1)w.push({start:v[l],end:v[l+1]});return w},[v,M,o,D]);if(!E)return null;var y=L.tracks||I.tracks?h.createElement(it,{index:null,prefixCls:d,start:$[0].start,end:$[$.length-1].end,replaceCls:xe(L.tracks,"".concat(d,"-tracks")),style:I.tracks}):null;return h.createElement(h.Fragment,null,y,$.map(function(f,C){var w=f.start,l=f.end;return h.createElement(it,{index:C,prefixCls:d,style:re(re({},$e(i,C)),I.track),start:w,end:l,key:C,onStartMove:P})}))};function lt(e){var n="touches"in e?e.touches[0]:e;return{pageX:n.pageX,pageY:n.pageY}}function Vt(e,n,d,i,v,o,P,b,E){var M=h.useState(null),D=he(M,2),I=D[0],L=D[1],$=h.useState(-1),y=he($,2),f=y[0],C=y[1],w=h.useState(d),l=he(w,2),O=l[0],j=l[1],H=h.useState(d),B=he(H,2),F=B[0],Y=B[1],A=h.useRef(null),R=h.useRef(null);h.useLayoutEffect(function(){f===-1&&j(d)},[d,f]),h.useEffect(function(){return function(){document.removeEventListener("mousemove",A.current),document.removeEventListener("mouseup",R.current),document.removeEventListener("touchmove",A.current),document.removeEventListener("touchend",R.current)}},[]);var N=function(m,t){O.some(function(a,r){return a!==m[r]})&&(t!==void 0&&L(t),j(m),P(m))},X=Et(function(u,m){if(u===-1){var t=F[0],a=F[F.length-1],r=i-t,c=v-a,g=m*(v-i);g=Math.max(g,r),g=Math.min(g,c);var p=o(t+g);g=p-t;var x=F.map(function(G){return G+g});N(x)}else{var T=(v-i)*m,U=Me(O);U[u]=F[u];var W=E(U,T,u,"dist");N(W.values,W.value)}}),s=function(m,t,a){m.stopPropagation();var r=a||d,c=r[t];C(t),L(c),Y(r);var g=lt(m),p=g.pageX,x=g.pageY,T=function(G){G.preventDefault();var oe=lt(G),le=oe.pageX,se=oe.pageY,ee=le-p,te=se-x,ve=e.current.getBoundingClientRect(),de=ve.width,z=ve.height,Z;switch(n){case"btt":Z=-te/z;break;case"ttb":Z=te/z;break;case"rtl":Z=-ee/de;break;default:Z=ee/de}X(t,Z)},U=function W(G){G.preventDefault(),document.removeEventListener("mouseup",W),document.removeEventListener("mousemove",T),document.removeEventListener("touchend",W),document.removeEventListener("touchmove",T),A.current=null,R.current=null,C(-1),b()};document.addEventListener("mouseup",U),document.addEventListener("mousemove",T),document.addEventListener("touchend",U),document.addEventListener("touchmove",T),A.current=T,R.current=U},S=h.useMemo(function(){var u=Me(d).sort(function(t,a){return t-a}),m=Me(O).sort(function(t,a){return t-a});return u.every(function(t,a){return t===m[a]})?O:d},[d,O]);return[f,I,S,s]}function Gt(e,n,d,i,v,o){var P=h.useCallback(function($){return Math.max(e,Math.min(n,$))},[e,n]),b=h.useCallback(function($){if(d!==null){var y=e+Math.round((P($)-e)/d)*d,f=function(O){return(String(O).split(".")[1]||"").length},C=Math.max(f(d),f(n),f(e)),w=Number(y.toFixed(C));return e<=w&&w<=n?w:null}return null},[d,e,n,P]),E=h.useCallback(function($){var y=P($),f=i.map(function(l){return l.value});d!==null&&f.push(b($)),f.push(e,n);var C=f[0],w=n-e;return f.forEach(function(l){var O=Math.abs(y-l);O<=w&&(C=l,w=O)}),C},[e,n,i,d,P,b]),M=function $(y,f,C){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof f=="number"){var l,O=y[C],j=O+f,H=[];i.forEach(function(R){H.push(R.value)}),H.push(e,n),H.push(b(O));var B=f>0?1:-1;w==="unit"?H.push(b(O+B*d)):H.push(b(j)),H=H.filter(function(R){return R!==null}).filter(function(R){return f<0?R<=O:R>=O}),w==="unit"&&(H=H.filter(function(R){return R!==O}));var F=w==="unit"?O:j;l=H[0];var Y=Math.abs(l-F);if(H.forEach(function(R){var N=Math.abs(R-F);N<Y&&(l=R,Y=N)}),l===void 0)return f<0?e:n;if(w==="dist")return l;if(Math.abs(f)>1){var A=Me(y);return A[C]=l,$(A,f-B,C,w)}return l}else{if(f==="min")return e;if(f==="max")return n}},D=function(y,f,C){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",l=y[C],O=M(y,f,C,w);return{value:O,changed:O!==l}},I=function(y){return o===null&&y===0||typeof o=="number"&&y<o},L=function(y,f,C){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",l=y.map(E),O=l[C],j=M(l,f,C,w);if(l[C]=j,v===!1){var H=o||0;C>0&&l[C-1]!==O&&(l[C]=Math.max(l[C],l[C-1]+H)),C<l.length-1&&l[C+1]!==O&&(l[C]=Math.min(l[C],l[C+1]-H))}else if(typeof o=="number"||o===null){for(var B=C+1;B<l.length;B+=1)for(var F=!0;I(l[B]-l[B-1])&&F;){var Y=D(l,1,B);l[B]=Y.value,F=Y.changed}for(var A=C;A>0;A-=1)for(var R=!0;I(l[A]-l[A-1])&&R;){var N=D(l,-1,A-1);l[A-1]=N.value,R=N.changed}for(var X=l.length-1;X>0;X-=1)for(var s=!0;I(l[X]-l[X-1])&&s;){var S=D(l,-1,X-1);l[X-1]=S.value,s=S.changed}for(var u=0;u<l.length-1;u+=1)for(var m=!0;I(l[u+1]-l[u])&&m;){var t=D(l,1,u+1);l[u+1]=t.value,m=t.changed}}return{value:l[C],values:l}};return[E,L]}var Kt=h.forwardRef(function(e,n){var d=e.prefixCls,i=d===void 0?"rc-slider":d,v=e.className,o=e.style,P=e.classNames,b=e.styles,E=e.disabled,M=E===void 0?!1:E,D=e.keyboard,I=D===void 0?!0:D,L=e.autoFocus,$=e.onFocus,y=e.onBlur,f=e.min,C=f===void 0?0:f,w=e.max,l=w===void 0?100:w,O=e.step,j=O===void 0?1:O,H=e.value,B=e.defaultValue,F=e.range,Y=e.count,A=e.onChange,R=e.onBeforeChange,N=e.onAfterChange,X=e.onChangeComplete,s=e.allowCross,S=s===void 0?!0:s,u=e.pushable,m=u===void 0?!1:u,t=e.draggableTrack,a=e.reverse,r=e.vertical,c=e.included,g=c===void 0?!0:c,p=e.startPoint,x=e.trackStyle,T=e.handleStyle,U=e.railStyle,W=e.dotStyle,G=e.activeDotStyle,oe=e.marks,le=e.dots,se=e.handleRender,ee=e.activeHandleRender,te=e.tabIndex,ve=te===void 0?0:te,de=e.ariaLabelForHandle,z=e.ariaLabelledByForHandle,Z=e.ariaValueTextFormatterForHandle,fe=h.useRef(null),ae=h.useRef(null),Oe=h.useMemo(function(){return r?a?"ttb":"btt":a?"rtl":"ltr"},[a,r]),ie=h.useMemo(function(){return isFinite(C)?C:0},[C]),Se=h.useMemo(function(){return isFinite(l)?l:100},[l]),K=h.useMemo(function(){return j!==null&&j<=0?1:j},[j]),V=h.useMemo(function(){return typeof m=="boolean"?m?K:!1:m>=0?m:!1},[m,K]),ce=h.useMemo(function(){return Object.keys(oe||{}).map(function(q){var k=oe[q],_={value:Number(q)};return k&&Ot(k)==="object"&&!h.isValidElement(k)&&("label"in k||"style"in k)?(_.style=k.style,_.label=k.label):_.label=k,_}).filter(function(q){var k=q.label;return k||typeof k=="number"}).sort(function(q,k){return q.value-k.value})},[oe]),ht=Gt(ie,Se,K,ce,S,V),qe=he(ht,2),Le=qe[0],Xe=qe[1],vt=Bt(B,{value:H}),Ye=he(vt,2),we=Ye[0],ft=Ye[1],ge=h.useMemo(function(){var q=we==null?[]:Array.isArray(we)?we:[we],k=he(q,1),_=k[0],J=_===void 0?ie:_,Q=we===null?[]:[J];if(F){if(Q=Me(q),Y||we===void 0){var me=Y>=0?Y+1:2;for(Q=Q.slice(0,me);Q.length<me;){var be;Q.push((be=Q[Q.length-1])!==null&&be!==void 0?be:ie)}}Q.sort(function(Ce,Pe){return Ce-Pe})}return Q.forEach(function(Ce,Pe){Q[Pe]=Le(Ce)}),Q},[we,F,ie,Y,Le]),Te=h.useRef(ge);Te.current=ge;var ke=function(k){return F?k:k[0]},Fe=function(k){var _=Me(k).sort(function(J,Q){return J-Q});A&&!$t(_,Te.current,!0)&&A(ke(_)),ft(_)},Ve=function(){var k=ke(Te.current);N==null||N(k),Rt(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),X==null||X(k)},gt=Vt(ae,Oe,ge,ie,Se,Le,Fe,Ve,Xe),je=he(gt,4),Ge=je[0],mt=je[1],ze=je[2],Ke=je[3],Je=function(k,_){if(!M){var J=0,Q=Se-ie;ge.forEach(function(Pe,Be){var De=Math.abs(k-Pe);De<=Q&&(Q=De,J=Be)});var me=Me(ge);if(me[J]=k,F&&!ge.length&&Y===void 0&&me.push(k),R==null||R(ke(me)),Fe(me),_){var be,Ce;(be=document.activeElement)===null||be===void 0||(Ce=be.blur)===null||Ce===void 0||Ce.call(be),fe.current.focus(J),Ke(_,J,me)}}},bt=function(k){k.preventDefault();var _=ae.current.getBoundingClientRect(),J=_.width,Q=_.height,me=_.left,be=_.top,Ce=_.bottom,Pe=_.right,Be=k.clientX,De=k.clientY,Ie;switch(Oe){case"btt":Ie=(Ce-De)/Q;break;case"ttb":Ie=(De-be)/Q;break;case"rtl":Ie=(Pe-Be)/J;break;default:Ie=(Be-me)/J}var Mt=ie+Ie*(Se-ie);Je(Le(Mt),k)},pt=h.useState(null),Qe=he(pt,2),_e=Qe[0],Ze=Qe[1],yt=function(k,_){if(!M){var J=Xe(ge,k,_);R==null||R(ke(ge)),Fe(J.values),Ze(J.value)}};h.useEffect(function(){if(_e!==null){var q=ge.indexOf(_e);q>=0&&fe.current.focus(q)}Ze(null)},[_e]);var Ct=h.useMemo(function(){return t&&K===null?!1:t},[t,K]),et=function(k,_){Ke(k,_),R==null||R(ke(Te.current))},tt=Ge!==-1;h.useEffect(function(){if(!tt){var q=ge.lastIndexOf(mt);fe.current.focus(q)}},[tt]);var Re=h.useMemo(function(){return Me(ze).sort(function(q,k){return q-k})},[ze]),St=h.useMemo(function(){return F?[Re[0],Re[Re.length-1]]:[ie,Re[0]]},[Re,F,ie]),at=he(St,2),nt=at[0],rt=at[1];h.useImperativeHandle(n,function(){return{focus:function(){fe.current.focus(0)},blur:function(){var k,_=document,J=_.activeElement;(k=ae.current)!==null&&k!==void 0&&k.contains(J)&&(J==null||J.blur())}}}),h.useEffect(function(){L&&fe.current.focus(0)},[]);var wt=h.useMemo(function(){return{min:ie,max:Se,direction:Oe,disabled:M,keyboard:I,step:K,included:g,includedStart:nt,includedEnd:rt,range:F,tabIndex:ve,ariaLabelForHandle:de,ariaLabelledByForHandle:z,ariaValueTextFormatterForHandle:Z,styles:b||{},classNames:P||{}}},[ie,Se,Oe,M,I,K,g,nt,rt,F,ve,de,z,Z,b,P]);return h.createElement(Ee.Provider,{value:wt},h.createElement("div",{ref:ae,className:xe(i,v,ye(ye(ye(ye({},"".concat(i,"-disabled"),M),"".concat(i,"-vertical"),r),"".concat(i,"-horizontal"),!r),"".concat(i,"-with-marks"),ce.length)),style:o,onMouseDown:bt},h.createElement("div",{className:xe("".concat(i,"-rail"),P==null?void 0:P.rail),style:re(re({},U),b==null?void 0:b.rail)}),h.createElement(Yt,{prefixCls:i,style:x,values:Re,startPoint:p,onStartMove:Ct?et:void 0}),h.createElement(Xt,{prefixCls:i,marks:ce,dots:le,style:W,activeStyle:G}),h.createElement(Nt,{ref:fe,prefixCls:i,style:T,values:ze,draggingIndex:Ge,onStartMove:et,onOffsetChange:yt,onFocus:$,onBlur:y,handleRender:se,activeHandleRender:ee,onChangeComplete:Ve}),h.createElement(Wt,{prefixCls:i,marks:ce,onClick:Je})))});const st=h.forwardRef((e,n)=>{const{open:d}=e,i=h.useRef(null),v=h.useRef(null);function o(){He.cancel(v.current),v.current=null}function P(){v.current=He(()=>{var b;(b=i.current)===null||b===void 0||b.forceAlign(),v.current=null})}return h.useEffect(()=>(d?P():o(),o),[d,e.title]),h.createElement(Ft,Object.assign({ref:kt(i,n)},e))}),Jt=e=>{const{componentCls:n,antCls:d,controlSize:i,dotSize:v,marginFull:o,marginPart:P,colorFillContentHover:b,handleColorDisabled:E,calc:M}=e;return{[n]:Object.assign(Object.assign({},Ht(e)),{position:"relative",height:i,margin:`${ue(P)} ${ue(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${ue(o)} ${ue(P)}`},[`${n}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${n}-track,${n}-tracks`]:{position:"absolute",transition:`background-color ${e.motionDurationMid}`},[`${n}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${n}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${n}-rail`]:{backgroundColor:e.railHoverBg},[`${n}-track`]:{backgroundColor:e.trackHoverBg},[`${n}-dot`]:{borderColor:b},[`${n}-handle::after`]:{boxShadow:`0 0 0 ${ue(e.handleLineWidth)} ${e.colorPrimaryBorderHover}`},[`${n}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${n}-handle`]:{position:"absolute",width:e.handleSize,height:e.handleSize,outline:"none","&::before":{content:'""',position:"absolute",insetInlineStart:M(e.handleLineWidth).mul(-1).equal(),insetBlockStart:M(e.handleLineWidth).mul(-1).equal(),width:M(e.handleSize).add(M(e.handleLineWidth).mul(2)).equal(),height:M(e.handleSize).add(M(e.handleLineWidth).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${ue(e.handleLineWidth)} ${e.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${e.motionDurationMid},
            inset-block-start ${e.motionDurationMid},
            width ${e.motionDurationMid},
            height ${e.motionDurationMid},
            box-shadow ${e.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:M(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),insetBlockStart:M(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),width:M(e.handleSizeHover).add(M(e.handleLineWidthHover).mul(2)).equal(),height:M(e.handleSizeHover).add(M(e.handleLineWidthHover).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${ue(e.handleLineWidthHover)} ${e.handleActiveColor}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal(),insetBlockStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal()}}},[`&-lock ${n}-handle`]:{"&::before, &::after":{transition:"none"}},[`${n}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${n}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${n}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${n}-dot`]:{position:"absolute",width:v,height:v,backgroundColor:e.colorBgElevated,border:`${ue(e.handleLineWidth)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${n}-disabled`]:{cursor:"not-allowed",[`${n}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${n}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${n}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${n}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${ue(e.handleLineWidth)} ${E}`,insetInlineStart:0,insetBlockStart:0},[`
          ${n}-mark-text,
          ${n}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${d}-tooltip-inner`]:{minWidth:"unset"}})}},ct=(e,n)=>{const{componentCls:d,railSize:i,handleSize:v,dotSize:o,marginFull:P,calc:b}=e,E=n?"paddingBlock":"paddingInline",M=n?"width":"height",D=n?"height":"width",I=n?"insetBlockStart":"insetInlineStart",L=n?"top":"insetInlineStart",$=b(i).mul(3).sub(v).div(2).equal(),y=b(v).sub(i).div(2).equal(),f=n?{borderWidth:`${ue(y)} 0`,transform:`translateY(${ue(b(y).mul(-1).equal())})`}:{borderWidth:`0 ${ue(y)}`,transform:`translateX(${ue(e.calc(y).mul(-1).equal())})`};return{[E]:i,[D]:b(i).mul(3).equal(),[`${d}-rail`]:{[M]:"100%",[D]:i},[`${d}-track,${d}-tracks`]:{[D]:i},[`${d}-track-draggable`]:Object.assign({},f),[`${d}-handle`]:{[I]:$},[`${d}-mark`]:{insetInlineStart:0,top:0,[L]:b(i).mul(3).add(n?0:P).equal(),[M]:"100%"},[`${d}-step`]:{insetInlineStart:0,top:0,[L]:i,[M]:"100%",[D]:i},[`${d}-dot`]:{position:"absolute",[I]:b(i).sub(o).div(2).equal()}}},Qt=e=>{const{componentCls:n,marginPartWithMark:d}=e;return{[`${n}-horizontal`]:Object.assign(Object.assign({},ct(e,!0)),{[`&${n}-with-marks`]:{marginBottom:d}})}},Zt=e=>{const{componentCls:n}=e;return{[`${n}-vertical`]:Object.assign(Object.assign({},ct(e,!1)),{height:"100%"})}},ea=e=>{const d=e.controlHeightLG/4,i=e.controlHeightSM/2,v=e.lineWidth+1,o=e.lineWidth+1*3;return{controlSize:d,railSize:4,handleSize:d,handleSizeHover:i,dotSize:8,handleLineWidth:v,handleLineWidthHover:o,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:e.colorPrimary,handleColorDisabled:new Lt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},ta=Dt("Slider",e=>{const n=It(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Jt(n),Qt(n),Zt(n)]},ea);function Ae(){const[e,n]=h.useState(!1),d=h.useRef(),i=()=>{He.cancel(d.current)},v=o=>{i(),o?n(o):d.current=He(()=>{n(o)})};return h.useEffect(()=>i,[]),[e,v]}var aa=function(e,n){var d={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(d[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,i=Object.getOwnPropertySymbols(e);v<i.length;v++)n.indexOf(i[v])<0&&Object.prototype.propertyIsEnumerable.call(e,i[v])&&(d[i[v]]=e[i[v]]);return d};function na(e,n){return e||e===null?e:n||n===null?n:d=>typeof d=="number"?d.toString():""}const da=pe.forwardRef((e,n)=>{const{prefixCls:d,range:i,className:v,rootClassName:o,style:P,disabled:b,tooltipPrefixCls:E,tipFormatter:M,tooltipVisible:D,getTooltipPopupContainer:I,tooltipPlacement:L,tooltip:$={},onChangeComplete:y}=e,f=aa(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:C}=e,{direction:w,slider:l,getPrefixCls:O,getPopupContainer:j}=pe.useContext(Tt),H=pe.useContext(jt),B=b??H,[F,Y]=Ae(),[A,R]=Ae(),N=Object.assign({},$),{open:X,placement:s,getPopupContainer:S,prefixCls:u,formatter:m}=N,t=X??D,a=(F||A)&&t!==!1,r=na(m,M),[c,g]=Ae(),p=z=>{y==null||y(z),g(!1)},x=(z,Z)=>z||(Z?w==="rtl"?"left":"right":"top"),T=O("slider",d),[U,W,G]=ta(T),oe=xe(v,l==null?void 0:l.className,o,{[`${T}-rtl`]:w==="rtl",[`${T}-lock`]:c},W,G);w==="rtl"&&!f.vertical&&(f.reverse=!f.reverse);const[le,se]=pe.useMemo(()=>i?typeof i=="object"?[!0,i.draggableTrack]:[!0,!1]:[!1],[i]);pe.useEffect(()=>{const z=()=>{He(()=>{R(!1)},1)};return document.addEventListener("mouseup",z),()=>{document.removeEventListener("mouseup",z)}},[]);const ee=le&&!t,te=(z,Z)=>{const{index:fe}=Z,ae=z.props,Oe=Object.assign(Object.assign({},ae),{onMouseEnter:K=>{var V;Y(!0),(V=ae.onMouseEnter)===null||V===void 0||V.call(ae,K)},onMouseLeave:K=>{var V;Y(!1),(V=ae.onMouseLeave)===null||V===void 0||V.call(ae,K)},onMouseDown:K=>{var V;R(!0),g(!0),(V=ae.onMouseDown)===null||V===void 0||V.call(ae,K)},onFocus:K=>{var V,ce;R(!0),(V=f.onFocus)===null||V===void 0||V.call(f,K),(ce=ae.onFocus)===null||ce===void 0||ce.call(ae,K)},onBlur:K=>{var V,ce;R(!1),(V=f.onBlur)===null||V===void 0||V.call(f,K),(ce=ae.onBlur)===null||ce===void 0||ce.call(ae,K)}}),ie=pe.cloneElement(z,Oe),Se=(!!t||a)&&r!==null;return ee?ie:pe.createElement(st,Object.assign({},N,{prefixCls:O("tooltip",u??E),title:r?r(Z.value):"",open:Se,placement:x(s??L,C),key:fe,overlayClassName:`${T}-tooltip`,getPopupContainer:S||I||j}),ie)},ve=ee?(z,Z)=>{const fe=pe.cloneElement(z,{style:Object.assign(Object.assign({},z.props.style),{visibility:"hidden"})});return pe.createElement(st,Object.assign({},N,{prefixCls:O("tooltip",u??E),title:r?r(Z.value):"",open:r!==null&&a,placement:x(s??L,C),key:"tooltip",overlayClassName:`${T}-tooltip`,getPopupContainer:S||I||j}),fe)}:void 0,de=Object.assign(Object.assign({},l==null?void 0:l.style),P);return U(pe.createElement(Kt,Object.assign({},f,{step:f.step,range:le,draggableTrack:se,className:oe,style:de,disabled:B,ref:n,prefixCls:T,handleRender:te,activeHandleRender:ve,onChangeComplete:p})))});var dt={exports:{}};(function(e,n){(function(d,i){e.exports=i(zt(),h)})(xt,function(d,i){function v(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var o=v(d),P=v(i);function b(s,S){for(var u=0;u<S.length;u++){var m=S[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}function E(s,S,u){return S in s?Object.defineProperty(s,S,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[S]=u,s}function M(){return(M=Object.assign||function(s){for(var S=1;S<arguments.length;S++){var u=arguments[S];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(s[m]=u[m])}return s}).apply(this,arguments)}function D(s,S){var u,m=Object.keys(s);return Object.getOwnPropertySymbols&&(u=Object.getOwnPropertySymbols(s),S&&(u=u.filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})),m.push.apply(m,u)),m}function I(s){for(var S=1;S<arguments.length;S++){var u=arguments[S]!=null?arguments[S]:{};S%2?D(Object(u),!0).forEach(function(m){E(s,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):D(Object(u)).forEach(function(m){Object.defineProperty(s,m,Object.getOwnPropertyDescriptor(u,m))})}return s}function L(s){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(s)}function $(s,S){return($=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u})(s,S)}function y(s,S){if(s==null)return{};var u,m=function(r,c){if(r==null)return{};for(var g,p={},x=Object.keys(r),T=0;T<x.length;T++)g=x[T],0<=c.indexOf(g)||(p[g]=r[g]);return p}(s,S);if(Object.getOwnPropertySymbols)for(var t=Object.getOwnPropertySymbols(s),a=0;a<t.length;a++)u=t[a],0<=S.indexOf(u)||Object.prototype.propertyIsEnumerable.call(s,u)&&(m[u]=s[u]);return m}function f(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function C(s){var S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,m,t,a,r=L(s);return m=S?(u=L(this).constructor,Reflect.construct(r,arguments,u)):r.apply(this,arguments),t=this,!(a=m)||typeof a!="object"&&typeof a!="function"?f(t):a}}function w(s,S){return function(u){if(Array.isArray(u))return u}(s)||function(u,m){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(u)))){var t=[],a=!0,r=!1,c=void 0;try{for(var g,p=u[Symbol.iterator]();!(a=(g=p.next()).done)&&(t.push(g.value),!m||t.length!==m);a=!0);}catch(x){r=!0,c=x}finally{try{a||p.return==null||p.return()}finally{if(r)throw c}}return t}}(s,S)||l(s,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function l(s,S){if(s){if(typeof s=="string")return O(s,S);var u=Object.prototype.toString.call(s).slice(8,-1);return u==="Object"&&s.constructor&&(u=s.constructor.name),u==="Map"||u==="Set"?Array.from(s):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?O(s,S):void 0}}function O(s,S){(S==null||S>s.length)&&(S=s.length);for(var u=0,m=new Array(S);u<S;u++)m[u]=s[u];return m}function j(s,S){return new Promise(function(u,m){var t,a=new Image;a.onload=function(){return u(a)},a.onerror=m,!((t=s)!==null&&t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@/?%\s]*\s*$/i))&&S&&(a.crossOrigin=S),a.src=s})}var H,B=!(typeof window>"u"||typeof navigator>"u"||!("ontouchstart"in window||0<navigator.msMaxTouchPoints)),F=typeof File<"u",Y={touch:{react:{down:"onTouchStart",mouseDown:"onMouseDown",drag:"onTouchMove",move:"onTouchMove",mouseMove:"onMouseMove",up:"onTouchEnd",mouseUp:"onMouseUp"},native:{down:"touchstart",mouseDown:"mousedown",drag:"touchmove",move:"touchmove",mouseMove:"mousemove",up:"touchend",mouseUp:"mouseup"}},desktop:{react:{down:"onMouseDown",drag:"onDragOver",move:"onMouseMove",up:"onMouseUp"},native:{down:"mousedown",drag:"dragStart",move:"mousemove",up:"mouseup"}}},A=B?Y.touch:Y.desktop,R=typeof window<"u"&&window.devicePixelRatio?window.devicePixelRatio:1,N={x:.5,y:.5},X=function(){(function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&$(t,a)})(m,P.default.Component);var s,S,u=C(m);function m(t){var a;return function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")}(this,m),E(f(a=u.call(this,t)),"state",{drag:!1,my:null,mx:null,image:N}),E(f(a),"handleImageReady",function(r){var c=a.getInitialSize(r.width,r.height);c.resource=r,c.x=.5,c.y=.5,c.backgroundColor=a.props.backgroundColor,a.setState({drag:!1,image:c},a.props.onImageReady),a.props.onLoadSuccess(c)}),E(f(a),"clearImage",function(){a.canvas.getContext("2d").clearRect(0,0,a.canvas.width,a.canvas.height),a.setState({image:N})}),E(f(a),"handleMouseDown",function(r){(r=r||window.event).preventDefault(),a.setState({drag:!0,mx:null,my:null})}),E(f(a),"handleMouseUp",function(){a.state.drag&&(a.setState({drag:!1}),a.props.onMouseUp())}),E(f(a),"handleMouseMove",function(r){var c,g,p,x,T,U,W,G,oe,le,se,ee,te,ve,de,z;r=r||window.event,a.state.drag!==!1&&(r.preventDefault(),p={mx:c=r.targetTouches?r.targetTouches[0].pageX:r.clientX,my:g=r.targetTouches?r.targetTouches[0].pageY:r.clientY},z=a.props.rotate,z=(z%=360)<0?z+360:z,a.state.mx&&a.state.my&&(x=a.state.mx-c,T=a.state.my-g,U=a.state.image.width*a.props.scale,W=a.state.image.height*a.props.scale,oe=(G=a.getCroppingRect()).x,le=G.y,oe*=U,le*=W,se=function(Z){return Z*(Math.PI/180)},ee=Math.cos(se(z)),ve=le+-x*(te=Math.sin(se(z)))+T*ee,de={x:(oe+x*ee+T*te)/U+1/a.props.scale*a.getXScale()/2,y:ve/W+1/a.props.scale*a.getYScale()/2},a.props.onPositionChange(de),p.image=I(I({},a.state.image),de)),a.setState(p),a.props.onMouseMove(r))}),E(f(a),"setCanvas",function(r){a.canvas=r}),a.canvas=null,a}return s=m,(S=[{key:"componentDidMount",value:function(){this.props.disableHiDPIScaling&&(R=1);var t,a,r=this.canvas.getContext("2d");this.props.image&&this.loadImage(this.props.image),this.paint(r),document&&(t=!!function(){var c=!1;try{var g=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",g,g),window.removeEventListener("test",g,g)}catch{c=!1}return c}()&&{passive:!1},a=A.native,document.addEventListener(a.move,this.handleMouseMove,t),document.addEventListener(a.up,this.handleMouseUp,t),B&&(document.addEventListener(a.mouseMove,this.handleMouseMove,t),document.addEventListener(a.mouseUp,this.handleMouseUp,t)))}},{key:"componentDidUpdate",value:function(t,a){this.props.image&&this.props.image!==t.image||this.props.width!==t.width||this.props.height!==t.height||this.props.backgroundColor!==t.backgroundColor?this.loadImage(this.props.image):this.props.image||a.image===N||this.clearImage();var r=this.canvas.getContext("2d");r.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(r),this.paintImage(r,this.state.image,this.props.border),t.image===this.props.image&&t.width===this.props.width&&t.height===this.props.height&&t.position===this.props.position&&t.scale===this.props.scale&&t.rotate===this.props.rotate&&a.my===this.state.my&&a.mx===this.state.mx&&a.image.x===this.state.image.x&&a.image.y===this.state.image.y&&a.backgroundColor===this.state.backgroundColor||this.props.onImageChange()}},{key:"componentWillUnmount",value:function(){var t;document&&(t=A.native,document.removeEventListener(t.move,this.handleMouseMove,!1),document.removeEventListener(t.up,this.handleMouseUp,!1),B&&(document.removeEventListener(t.mouseMove,this.handleMouseMove,!1),document.removeEventListener(t.mouseUp,this.handleMouseUp,!1)))}},{key:"isVertical",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:"getBorders",value:function(t){var a=0<arguments.length&&t!==void 0?t:this.props.border;return Array.isArray(a)?a:[a,a]}},{key:"getDimensions",value:function(){var t=this.props,a=t.width,r=t.height,c=t.rotate,g=t.border,p={},x=w(this.getBorders(g),2),T=x[0],U=x[1],W=a,G=r;return this.isVertical()?(p.width=G,p.height=W):(p.width=W,p.height=G),p.width+=2*T,p.height+=2*U,{canvas:p,rotate:c,width:a,height:r,border:g}}},{key:"getImage",value:function(){var t=this.getCroppingRect(),a=this.state.image;t.x*=a.resource.width,t.y*=a.resource.height,t.width*=a.resource.width,t.height*=a.resource.height;var r=document.createElement("canvas");this.isVertical()?(r.width=t.height,r.height=t.width):(r.width=t.width,r.height=t.height);var c=r.getContext("2d");return c.translate(r.width/2,r.height/2),c.rotate(this.props.rotate*Math.PI/180),c.translate(-r.width/2,-r.height/2),this.isVertical()&&c.translate((r.width-r.height)/2,(r.height-r.width)/2),a.backgroundColor&&(c.fillStyle=a.backgroundColor,c.fillRect(-t.x,-t.y,a.resource.width,a.resource.height)),c.drawImage(a.resource,-t.x,-t.y),r}},{key:"getImageScaledToCanvas",value:function(){var t=this.getDimensions(),a=t.width,r=t.height,c=document.createElement("canvas");return this.isVertical()?(c.width=r,c.height=a):(c.width=a,c.height=r),this.paintImage(c.getContext("2d"),this.state.image,0,1),c}},{key:"getXScale",value:function(){var t=this.props.width/this.props.height,a=this.state.image.width/this.state.image.height;return Math.min(1,t/a)}},{key:"getYScale",value:function(){var t=this.props.height/this.props.width,a=this.state.image.height/this.state.image.width;return Math.min(1,t/a)}},{key:"getCroppingRect",value:function(){var t=this.props.position||{x:this.state.image.x,y:this.state.image.y},a=1/this.props.scale*this.getXScale(),r=1/this.props.scale*this.getYScale(),c={x:t.x-a/2,y:t.y-r/2,width:a,height:r},g=0,p=1-c.width,x=0,T=1-c.height;return(this.props.disableBoundaryChecks||1<a||1<r)&&(g=-c.width,x=-c.height,T=p=1),I(I({},c),{},{x:Math.max(g,Math.min(c.x,p)),y:Math.max(x,Math.min(c.y,T))})}},{key:"loadImage",value:function(t){var a;F&&t instanceof File?this.loadingImage=(a=t,new Promise(function(r,c){var g=new FileReader;g.onload=function(p){try{var x=j(p.target.result);r(x)}catch(T){c(T)}},g.readAsDataURL(a)}).then(this.handleImageReady).catch(this.props.onLoadFailure)):typeof t=="string"&&(this.loadingImage=j(t,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:"getInitialSize",value:function(t,a){var r,c,g=this.getDimensions();return a/t<g.height/g.width?c=t*((r=this.getDimensions().height)/a):r=a*((c=this.getDimensions().width)/t),{height:r,width:c}}},{key:"paintImage",value:function(t,a,r,c){var g,p=3<arguments.length&&c!==void 0?c:R;a.resource&&(g=this.calculatePosition(a,r),t.save(),t.translate(t.canvas.width/2,t.canvas.height/2),t.rotate(this.props.rotate*Math.PI/180),t.translate(-t.canvas.width/2,-t.canvas.height/2),this.isVertical()&&t.translate((t.canvas.width-t.canvas.height)/2,(t.canvas.height-t.canvas.width)/2),t.scale(p,p),t.globalCompositeOperation="destination-over",t.drawImage(a.resource,g.x,g.y,g.width,g.height),a.backgroundColor&&(t.fillStyle=a.backgroundColor,t.fillRect(g.x,g.y,g.width,g.height)),t.restore())}},{key:"calculatePosition",value:function(t,a){t=t||this.state.image;var r=w(this.getBorders(a),2),c=r[0],g=r[1],p=this.getCroppingRect(),x=t.width*this.props.scale,T=t.height*this.props.scale,U=-p.x*x,W=-p.y*T;return this.isVertical()?(U+=g,W+=c):(U+=c,W+=g),{x:U,y:W,height:T,width:x}}},{key:"paint",value:function(t){t.save(),t.scale(R,R),t.translate(0,0),t.fillStyle="rgba("+this.props.color.slice(0,4).join(",")+")";var a,r,c,g,p,x,T,U,te=this.props.borderRadius,W=this.getDimensions(),G=w(this.getBorders(W.border),2),oe=G[0],le=G[1],se=W.canvas.height,ee=W.canvas.width,te=Math.max(te,0);te=Math.min(te,ee/2-oe,se/2-le),t.beginPath(),a=t,g=ee-2*(r=oe),p=se-2*(c=le),(x=te)===0?a.rect(r,c,g,p):(T=g-x,U=p-x,a.translate(r,c),a.arc(x,x,x,Math.PI,1.5*Math.PI),a.lineTo(T,0),a.arc(T,x,x,1.5*Math.PI,2*Math.PI),a.lineTo(g,U),a.arc(T,U,x,2*Math.PI,.5*Math.PI),a.lineTo(x,p),a.arc(x,U,x,.5*Math.PI,Math.PI),a.translate(-r,-c)),t.rect(ee,0,-ee,se),t.fill("evenodd"),t.restore()}},{key:"render",value:function(){var t=this.props,a=(t.scale,t.rotate,t.image,t.border,t.borderRadius,t.width,t.height,t.position,t.color,t.backgroundColor,t.style),r=(t.crossOrigin,t.onLoadFailure,t.onLoadSuccess,t.onImageReady,t.onImageChange,t.onMouseUp,t.onMouseMove,t.onPositionChange,t.disableBoundaryChecks,t.disableHiDPIScaling,t.disableCanvasRotation,y(t,["scale","rotate","image","border","borderRadius","width","height","position","color","backgroundColor","style","crossOrigin","onLoadFailure","onLoadSuccess","onImageReady","onImageChange","onMouseUp","onMouseMove","onPositionChange","disableBoundaryChecks","disableHiDPIScaling","disableCanvasRotation"])),c=this.getDimensions(),g={width:c.canvas.width,height:c.canvas.height,cursor:this.state.drag?"grabbing":"grab",touchAction:"none"},p={width:c.canvas.width*R,height:c.canvas.height*R,style:I(I({},g),a)};return p[A.react.down]=this.handleMouseDown,B&&(p[A.react.mouseDown]=this.handleMouseDown),P.default.createElement("canvas",M({ref:this.setCanvas},p,r))}}])&&b(s.prototype,S),m}();return E(X,"propTypes",{scale:o.default.number,rotate:o.default.number,image:o.default.oneOfType([o.default.string].concat(function(s){if(Array.isArray(s))return O(s)}(H=F?[o.default.instanceOf(File)]:[])||function(s){if(typeof Symbol<"u"&&Symbol.iterator in Object(s))return Array.from(s)}(H)||l(H)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),border:o.default.oneOfType([o.default.number,o.default.arrayOf(o.default.number)]),borderRadius:o.default.number,width:o.default.number,height:o.default.number,position:o.default.shape({x:o.default.number,y:o.default.number}),color:o.default.arrayOf(o.default.number),backgroundColor:o.default.string,crossOrigin:o.default.oneOf(["","anonymous","use-credentials"]),onLoadFailure:o.default.func,onLoadSuccess:o.default.func,onImageReady:o.default.func,onImageChange:o.default.func,onMouseUp:o.default.func,onMouseMove:o.default.func,onPositionChange:o.default.func,disableBoundaryChecks:o.default.bool,disableHiDPIScaling:o.default.bool,disableCanvasRotation:o.default.bool}),E(X,"defaultProps",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),X})})(dt);var ra=dt.exports;const ha=Pt(ra),va="/icons/upload-avatar.webp",fa="/icons/uploading.gif";export{ha as A,va as D,da as S,fa as U};
