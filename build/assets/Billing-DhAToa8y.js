import{n as v,r,j as e,B as w,t as c,a as T}from"./index-D3mr-EkT.js";import{T as D}from"./TitleComponent-1N1_GeoH.js";import{D as N}from"./DashboardLoading-CyJV7LPM.js";import{G as g}from"./DashboardActions-B9-8Vap5.js";import{h as S}from"./moment-C5S46NFB.js";import{D as E}from"./DataLoading-9D2iJcRo.js";import{C as k}from"./CustomPagination-C5xXN1I2.js";/* empty css                  */const R=s=>new Promise((l,a)=>{v.post("/cryptochill/pay-crypto",s).then(n=>{l(n)}).catch(n=>{a(n)})}),A=s=>new Promise((l,a)=>{v.post("/cryptochill/withdraw-crypto",s).then(n=>{l(n)}).catch(n=>{a(n)})}),P=()=>{const[s,l]=r.useState(""),[a,n]=r.useState(!1),[d,u]=r.useState(""),[h,o]=r.useState(""),[j,p]=r.useState(""),f=()=>{n(!0),A({type:d,amount:s,address:h}).then(i=>{i.status===200?c.success("The invoice generation process has been completed successfully."):i.status===201?c.error("Insufficient Balance"):c.error("Withdraw Failed"),n(!1)}).catch(i=>{i.response.status===501?c.error(i.response.data):c.error("Network connection error."),n(!1)})};return e.jsx(e.Fragment,{children:a?e.jsx(N,{}):e.jsxs("div",{className:"my-12 mx-auto w-[85%] flex flex-col gap-8",children:[e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-white",children:"Enter amount ($)"}),e.jsx("input",{value:s,className:"px-2 h-12 w-full bg-transparent text-white border-2 border-color4 rounded-lg",onChange:i=>l(i.target.value)})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-white",children:"Payment method"}),e.jsx("div",{className:"input-styled-select",children:e.jsx("select",{value:d,onChange:i=>u(i.target.value),className:"h-12 w-40 bg-transparent text-white border-2 border-color4 rounded-lg",children:e.jsx("option",{value:"BTC",children:"Bitcoin (BTC)"})})})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-white",children:"Network Fee"}),e.jsx("div",{className:"input-styled-select",children:e.jsxs("select",{value:j,onChange:i=>p(i.target.value),className:"h-12 w-40 bg-transparent text-white border-2 border-color4 rounded-lg",children:[e.jsx("option",{value:"high",children:"Normal"}),e.jsx("option",{value:"normal",children:"High"}),e.jsx("option",{value:"economy",children:"Economy"})]})})]})]}),e.jsx("div",{className:"grid",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-white",children:"Wallet address"}),e.jsx("input",{value:h,className:"px-2 h-12 w-full bg-transparent text-white border-2 border-color4 rounded-lg",onChange:i=>o(i.target.value)})]})}),e.jsx(w,{text:"WITHDRAW",className:"w-full sm:w-[200px] h-[56px]",handleClick:f})]})})};function U(s){return s.split("-").join("").toUpperCase()}const B=()=>{const[s,l]=r.useState(!1),[a,n]=r.useState(""),[d,u]=r.useState("BTC"),h=()=>{l(!0),R({type:d,amount:a}).then(o=>{o.status===200?(window.open(`https://cryptochill.com/invoice/${U(o.data)}/`,"_blank"),c.success("The invoice generation process has been completed successfully.")):c.error("Creating Invoice Failed."),l(!1)}).catch(o=>{o.status===501?c.error(o.response.data):c.error("Creating Invoice Failed."),l(!1)})};return e.jsx(e.Fragment,{children:s?e.jsx(N,{}):e.jsxs("div",{className:"my-12 mx-auto w-[85%] flex flex-col gap-8",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-white",children:"Enter amount ($)"}),e.jsx("input",{value:a,className:"px-2 h-12 w-full bg-transparent text-white border-2 border-color4 rounded-lg",onChange:o=>n(o.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-white",children:"Pyament method"}),e.jsx("div",{className:"input-styled-select",children:e.jsxs("select",{value:d,onChange:o=>u(o.target.value),className:"h-12 w-40 bg-transparent text-white border-2 border-color4 rounded-lg",children:[e.jsx("option",{value:"BTC",children:"Bitcoin (BTC)"}),e.jsx("option",{value:"USDT-TRX",children:"USDT (TRC20)"}),e.jsx("option",{value:"DOGE",children:"Dogecoin (DOGE)"}),e.jsx("option",{value:"XRP",children:"Ripple (XRP)"}),e.jsx("option",{value:"LTC",children:"Litecoin (LTC)"}),e.jsx("option",{value:"ETH",children:"Ethereum (ETH)"}),e.jsx("option",{value:"USDC-TRX",children:"USD Coin (TRC20)"}),e.jsx("option",{value:"ETH_USDT",children:"USDT (ERC20) - Instant"})]})})]})]}),e.jsx(w,{text:"CHARGE",className:"w-full sm:w-[186px] h-[56px]",handleClick:h})]})})},F=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"mt-6 mx-auto billing-accounts-column",children:e.jsxs("div",{className:"billing-accounts-item h-[40px] flex text-base text-color5 border-b-2 border-color4",children:[e.jsx("div",{className:"basis-[15%] flex justify-end",children:"TRANSACTION ID"}),e.jsx("div",{className:"basis-[15%] flex justify-end",children:"CURRENCY"}),e.jsx("div",{className:"basis-[15%] flex justify-end",children:"DATE"}),e.jsx("div",{className:"basis-[15%] flex justify-end",children:"TYPE"}),e.jsx("div",{className:"basis-[18%] flex justify-end",children:"DESCRIPTION"}),e.jsx("div",{className:"basis-[12%] flex justify-end",children:"AMOUNT($)"}),e.jsx("div",{className:"basis-[10%] flex justify-end",children:"STATUS"})]})})}),H=()=>{const[s,l]=r.useState(0),[a,n]=r.useState(5),[d,u]=r.useState([]),[h,o]=r.useState(0),[j,p]=r.useState(!1),f=T();r.useEffect(()=>{p(!0),(async()=>{await f(g(s,a)).then(x=>{x.transactionHistory&&u(x.transactionHistory),o(x.transactionCount),p(!1)}).catch(()=>{c.error("Data Loading Failed"),p(!1)})})()},[s,a]),r.useEffect(()=>{const x=setInterval(async()=>{await f(g(s,a)).then(m=>{m.transactionHistory&&u(m.transactionHistory),o(m.transactionCount)}).catch(()=>{c.error("Data Loading Failed")})},1e4);return()=>clearInterval(x)},[s,a]);const i=t=>{const x=parseInt(t.target.value);n(x),l(0)},y=()=>{l(s===0?0:s-1)},C=()=>{(s+1)*a>=h?l(s):l(s+1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 billing-accounts-box customized-scrollbar-x overflow-x-auto mx-auto",children:[e.jsx(F,{}),e.jsx("div",{className:`billing-accounts-data mx-auto flex flex-col ${!d.length&&"items-center justify-center"}`,children:j?e.jsx(E,{}):d.length>0?d.map((t,x)=>{var m,b;return e.jsxs("div",{className:"billing-accounts-item h-[80px] flex items-center border-b-color4 border-b-2",children:[e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:e.jsx("div",{className:"inline-block w-[100px] whitespace-nowrap overflow-hidden text-ellipsis text-right",children:t.transaction_id})}),e.jsxs("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:[t.kind==="BTC"&&"Bitcoin (BTC)",t.kind==="USDT-TRX"&&"USDT (TRC20)",t.kind==="DOGE"&&"Dogecoin (DOGE)",t.kind==="XRP"&&"Ripple (XRP)",t.kind==="LTC"&&"Litecoin (LTC)",t.kind==="ETH"&&"Ethereum (ETH)",t.kind==="USDC-TRX"&&"USD Coin (TRC20)",t.kind==="ETH_USDT"&&"USDT (ERC20) - Instant",t.kind==="USD"&&t.kind]}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:S(t.payment_date).format("MM/DD/YYYY")}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:t.type}),e.jsx("div",{className:"h-[80px] basis-[18%] flex justify-end items-center text-white text-base",children:e.jsx("p",{className:"w-[90%] text-right text-sm",children:t==null?void 0:t.description})}),e.jsx("div",{className:"h-[80px] basis-[12%] flex justify-end items-center text-white text-base",children:t.type==="Withdraw"?-((m=t.amount)==null?void 0:m.toFixed(1)):(b=t.amount)==null?void 0:b.toFixed(1)}),e.jsx("div",{className:`h-[80px] basis-[10%] flex justify-end items-center text-base ${t.status==="pending"?"text-[#FFA512]":"text-[#39DC01]"}`,children:t.status==="confirmed"||t.status==="completed"?"Paid":"Pending"})]},x)}):e.jsx("p",{className:"py-32 text-2xl text-white font-bold",children:"No Transaction History Data"})})]}),e.jsxs("div",{className:"billing-accounts-box mx-auto relative mt-8 w-full flex flex-col gap-5 items-center  lg:flex-row lg:justify-start 2xl:justify-center",children:[e.jsx(k,{currentPage:s,totalPageNum:h===0?0:Math.floor((h-1)/a),handleClickPrevButton:y,handleClickNextButton:C,setCurrentPage:l}),e.jsxs("div",{className:"flex lg:absolute lg:right-0 items-center gap-2",children:[e.jsx("label",{className:"text-white text-base",children:"Display:"}),e.jsx("div",{className:"display-styled-select",children:e.jsxs("select",{value:a,onChange:i,children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"})]})})]})]})]})},_=()=>{const[s,l]=r.useState(0),a=n=>{l(n)};return r.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col justify-center items-center gap-12",children:[e.jsx("div",{className:"w-full mt-10",children:e.jsx(D,{title:"Billing"})}),e.jsxs("div",{className:"relative w-full flex justify-center border-2 border-color4 rounded-xl",children:[e.jsx("img",{src:"/icons/top-left.webp",className:"absolute top-4 left-4"}),e.jsx("img",{src:"/icons/top-right.webp",className:"absolute top-4 right-4"}),e.jsx("img",{src:"/icons/bottom-left.webp",className:"absolute bottom-4 left-4"}),e.jsx("img",{src:"/icons/bottom-right.webp",className:"absolute bottom-4 right-4"}),e.jsxs("div",{className:"py-16 w-full",children:[e.jsx("div",{className:"billing-accounts-box mx-auto flex flex-col gap-6 items-end lg:flex-row lg:justify-between lg:items-center",children:e.jsx("div",{className:"customized-scrollbar-x p-2 w-full overflow-auto",children:e.jsxs("div",{className:"mx-auto lg:mx-0 w-[575px] flex gap-6",children:[e.jsx("div",{className:`w-[140px] h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${s===0?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>a(0),children:"Withdraw balance"}),e.jsx("div",{className:`w-[122px] h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${s===1?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>a(1),children:"Charge balance"}),e.jsx("div",{className:`h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${s===2?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>a(2),children:"Transaction history"})]})})}),s===0&&e.jsx(P,{}),s===1&&e.jsx(B,{}),s===2&&e.jsx(H,{})]})]})]})})};export{_ as default};
