import{j as e,B as S,m as v,a as D,r as s,e as m,t as U}from"./index-CndeRajg.js";import{P as k}from"./PlanCard-D-_5WGIh.js";import{t as B,v as M}from"./DashboardActions-BP3iLw6C.js";import{b as _}from"./stack-DOGBLlDl.js";import{B as b}from"./ButtonComponentWhite-DR9ggAwR.js";/* empty css                    */import{M as A}from"./index-B8TCCHyz.js";import"./zoom-DHEoT1Yi.js";import"./index-DcfIKM1A.js";const T=({isOpen:c,setIsOpen:o,handleUpgrade:n,type:r})=>{const d=()=>{o(!1)};return e.jsx(e.Fragment,{children:e.jsx(A,{open:c,centered:!0,width:600,onCancel:()=>o(!1),maskClosable:!1,className:"upgrade-confirm-modal",footer:!1,children:e.jsxs("div",{className:"px-6 py-10 flex flex-col gap-10 md:px-10 ",children:[e.jsxs("p",{className:"text-xl text-white",children:["Are you sure you want to proceed with the",r==="Upgrade"?" upgrade?":"downgrade?"]}),e.jsx("div",{className:"w-full flex items-center justify-end",children:e.jsxs("div",{className:"w-full grid grid-cols-1 items-center justify-between gap-5 sm:grid-cols-2 sm:w-[350px]",children:[e.jsx(S,{className:"w-full h-[56px]",text:r,handleClick:()=>n()}),e.jsx(b,{className:"w-full h-[56px]",text:"Cancel",handleClick:d})]})})]})})})},H=()=>{const[c,o]=v(),n=D(),[r,d]=s.useState(""),[f,h]=s.useState(""),[l,i]=s.useState(0),[x,p]=s.useState(!1),[g,y]=s.useState(0),[w,j]=s.useState("");s.useEffect(()=>{const a=c.get("account_id");a&&d(a);const t=c.get("type");t&&h(t),(async()=>{const I=m({account_id:a||"",type:t||""});await n(B({encrypted:I})).then(P=>{i(P.levelIndex)})})()},[]);const C=async a=>{if(l===a)return;p(!1);const u=m({type:f,acc_id:r,plan:a});await n(M({encrypted:u})).then(()=>{U.success("Plan has been updated successfully!"),i(a)}).catch(()=>{})},N=(a,t)=>{y(a),j(t),p(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto 2xl:w-[800px] grid grid-cols-1 md:grid-cols-2 gap-8 2xl:gap-12",children:_.map((a,t)=>e.jsx(k,{item:a,className:"w-full",handleClick:()=>N(t,t>l?"Upgrade":"Downgrade"),type:t>l?"upgrade":"downgrade",disabled:l===t},t))}),e.jsx(T,{isOpen:x,setIsOpen:p,handleUpgrade:()=>C(g),type:w})]})};export{H as default};
