import{j as e,B as N,k as I,a as P,r as s,t as S}from"./index-C5dHWHVl.js";import{P as k}from"./PlanCard-C5VfK5Ln.js";import{t as v,v as U}from"./DashboardActions-C9q7Oh-I.js";import{b as B}from"./stack-BlqWHnTg.js";import{B as M}from"./ButtonComponentWhite-Dt3BG52z.js";/* empty css                    */import{M as b}from"./index-DnfCd1gx.js";import"./zoom-BsRzBlsc.js";import"./index-DcfIKM1A.js";const A=({isOpen:c,setIsOpen:o,handleUpgrade:n,type:r})=>{const d=()=>{o(!1)};return e.jsx(e.Fragment,{children:e.jsx(b,{open:c,centered:!0,width:600,onCancel:()=>o(!1),maskClosable:!1,className:"upgrade-confirm-modal",footer:!1,children:e.jsxs("div",{className:"px-6 py-10 flex flex-col gap-10 md:px-10 ",children:[e.jsxs("p",{className:"text-xl text-white",children:["Are you sure you want to proceed with the",r==="Upgrade"?" upgrade?":"downgrade?"]}),e.jsx("div",{className:"w-full flex items-center justify-end",children:e.jsxs("div",{className:"w-full grid grid-cols-1 items-center justify-between gap-5 sm:grid-cols-2 sm:w-[350px]",children:[e.jsx(N,{className:"w-full h-[56px]",text:r,handleClick:()=>n()}),e.jsx(M,{className:"w-full h-[56px]",text:"Cancel",handleClick:d})]})})]})})})},z=()=>{const[c,o]=I(),n=P(),[r,d]=s.useState(""),[u,m]=s.useState(""),[l,i]=s.useState(0),[f,p]=s.useState(!1),[h,x]=s.useState(0),[g,y]=s.useState("");s.useEffect(()=>{const t=c.get("account_id");t&&d(t);const a=c.get("type");a&&m(a),(async()=>{await n(v({account_id:t||"",type:a||""})).then(C=>{i(C.levelIndex)})})()},[]);const w=async t=>{l!==t&&(p(!1),await n(U({type:u,acc_id:r,plan:t})).then(()=>{S.success("Plan has been updated successfully!"),i(t)}).catch(()=>{}))},j=(t,a)=>{x(t),y(a),p(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto 2xl:w-[800px] grid grid-cols-1 md:grid-cols-2 gap-8 2xl:gap-12",children:B.map((t,a)=>e.jsx(k,{item:t,className:"w-full",handleClick:()=>j(a,a>l?"Upgrade":"Downgrade"),type:a>l?"upgrade":"downgrade",disabled:l===a},a))}),e.jsx(A,{isOpen:f,setIsOpen:p,handleUpgrade:()=>w(h),type:g})]})};export{z as default};
