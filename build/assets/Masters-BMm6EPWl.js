import{j as e,u as $,b as D,a as A,e as L,t as M,r as c,B as S,k as R}from"./index-CndeRajg.js";import{k as F,r as B,c as E}from"./DashboardActions-BP3iLw6C.js";import{T as I}from"./TitleComponent-Jlb1nLkV.js";import{D as O}from"./DataLoading-HS_aWWOY.js";import{C as W}from"./CustomPagination-DjeyQcVn.js";import{h as z}from"./moment-C5S46NFB.js";import{l as N}from"./stack-DOGBLlDl.js";/* empty css                *//* empty css                  */const Y=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"mx-auto mt-6 master-accounts-column",children:e.jsxs("div",{className:"master-accounts-item h-[40px] flex text-base text-color5 border-b-2 border-color4",children:[e.jsx("div",{className:"basis-[23%] flex justify-end",children:"ACCOUNT NAME"}),e.jsx("div",{className:"basis-[12%] flex justify-end",children:"PnL ($)"}),e.jsx("div",{className:"basis-[8%] flex justify-end",children:"WIN RATE"}),e.jsx("div",{className:"pl-8 basis-[13%] flex justify-start",children:"TYPE"}),e.jsx("div",{className:"basis-[14%] flex justify-end",children:"REGISTER DATE"}),e.jsx("div",{className:"basis-[8%] flex justify-end",children:"FOLLOWS"}),e.jsx("div",{className:"basis-[12%] flex justify-end",children:"PROFIT SHARE"}),e.jsx("div",{className:"pr-2 basis-[10%] flex justify-end",children:"ACTION"})]})})}),q=({isDataLoading:i,data:n,currentPage:r,setCurrentPage:a,displayCount:p,setDisplayCount:y,totalCount:v,changeStatus:j,setChangeStatus:x})=>{const l=$(s=>s.auth),h=D(),u=A(),_=s=>{const t=parseInt(s.target.value);y(t),a(0)},b=()=>{a(r===0?0:r-1)},k=()=>{(r+1)*p>=v?a(r):a(r+1)},w=(s,t)=>{h(`/dashboard/masters/manageaccount?account_id=${s}&type=${t}`)},C=(s,t)=>{h(`/dashboard/integrations/masters/upgradeplan?account_id=${s}&type=${t}`)},f=(s,t,d)=>{if(d){const o=L({type:t,my_user_id:l.user.id,acc_id:s});u(B({encrypted:o})).then(()=>{x(!j),M.success("Remove this account from favorite!")}).catch(()=>{})}else{const o=L({type:t,my_user_id:l.user.id,acc_id:s});u(F({encrypted:o})).then(()=>{x(!j),M.success("Add this account to favorite!")}).catch(()=>{})}},g=(s,t)=>{var o;return!!((o=l.user.masters)==null?void 0:o.find(m=>m.account_id===s&&t===m.type))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"master-accounts-box customized-scrollbar-x overflow-x-auto mx-auto",children:[e.jsx(Y,{}),e.jsx("div",{className:`master-accounts-data mx-auto flex flex-col ${!(n!=null&&n.length)&&"items-center justify-center"}`,children:i?e.jsx(O,{}):n.length>0?n.map((s,t)=>{var d,o,m,T;return e.jsxs("div",{className:"master-accounts-item h-[80px] flex items-center border-b-color4 border-b-2",children:[e.jsx("div",{className:"h-[80px] basis-[8%] flex justify-end items-center",children:e.jsxs("div",{className:`relative w-[64px] h-[64px] rounded-full border-2 
                        ${s.level==="hero"?"border-herocolor":s.level==="gold"?"border-goldcolor":s.level==="silver"?"border-silvercolor":"border-color5"}`,children:[s.avatar?e.jsx("img",{src:s.avatar,alt:"Account avatar",title:"This is for Master account",className:"w-[60px] h-[60px] rounded-full"}):e.jsx("img",{src:"/icons/user-icon.webp",alt:"User avatar",title:"This is default avatar",className:"w-[60px] h-[60px] rounded-full"}),e.jsx("img",{src:s.level==="hero"?N[3]:s.level==="gold"?N[2]:s.level==="silver"?N[1]:N[0],alt:"Level icon",title:"This is to show level",className:`${(s.level==="basic"||!s.level)&&"hidden"} absolute bottom-[-2px] right-[-3px]  w-[20px] h-[20px]`})]})}),e.jsxs("div",{className:"h-[80px] basis-[15%] flex flex-col justify-center items-end gap-1 text-white text-base",children:[e.jsx("div",{className:"inline-block w-[100px] whitespace-nowrap overflow-hidden text-ellipsis text-right",children:s.account_name}),e.jsxs("div",{className:"w-full flex items-center justify-end gap-2",children:[e.jsx("div",{className:`${(d=s.top_badge)!=null&&d.top_roi?"":"hidden"} w-16 h-6 bg-badgecolor rounded text-white text-xs flex items-center justify-center`,children:"Top ROI"}),e.jsx("div",{className:`${(o=s.top_badge)!=null&&o.top_profit?"":"hidden"} w-16 h-6 bg-badgecolor rounded text-white text-xs flex items-center justify-center`,children:"Top Profit"})]})]}),e.jsx("div",{className:`h-[80px] basis-[12%] flex justify-end items-center ${(s==null?void 0:s.total_pl_amount)>0?"text-positivecolor":"text-color2"} text-base`,children:"$ "+(s!=null&&s.total_pl_amount?s==null?void 0:s.total_pl_amount.toFixed(2):0)}),e.jsx("div",{className:`h-[80px] basis-[8%] flex justify-end items-center text-base
                      ${s.win_count+s.lose_count>0&&s.win_count/(s.win_count+s.lose_count)*100>=50?"text-positivecolor":"text-color2"}`,children:s.win_count+s.lose_count>0?(s.win_count/(s.win_count+s.lose_count)*100).toFixed(2)+" %":"0 %"}),e.jsxs("div",{className:"pl-8 h-[80px] basis-[13%] flex justify-start items-center text-white text-base",children:[s.type==="mt4"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/metatrader4-square.webp",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"MT - 4"})]}),s.type==="mt5"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/metatrader5-square.webp",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"MT - 5"})]}),s.type==="tll"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/tradelocker-square.webp",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"TL - Li"})]}),s.type==="tld"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/tradelocker-square.webp",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"TL - De"})]})]}),e.jsx("div",{className:"h-[80px] basis-[14%] flex justify-end items-center text-white text-base",children:z(s.registered_at).format("YYYY/MM/DD")}),e.jsxs("div",{className:"h-[80px] basis-[8%] flex justify-end items-center text-white text-base",children:[s.follows+"/",s.level==="hero"?"âˆž":s.level==="gold"?l.levelToLimit[2].limit_value:s.level==="silver"?l.levelToLimit[1].limit_value:l.levelToLimit[0].limit_value]}),e.jsx("div",{className:"h-[80px] basis-[12%] flex justify-end items-center text-white text-base",children:e.jsx("div",{className:"w-full flex flex-col gap-1 items-end",children:(s==null?void 0:s.is_profit_share)===0?e.jsxs("p",{className:"text-white",children:["$ ",(m=s.profit_share)!=null&&m.per_hour?(T=s.profit_share)==null?void 0:T.per_hour:"0"," / hour"]}):e.jsx("p",{className:"text-white",children:"No Share"})})}),e.jsx("div",{className:"pr-2 h-[80px] basis-[10%] flex justify-end items-center text-white",children:g(s.account_id,s.type)?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`group w-[30px] h-[30px] border border-color4 
                          rounded-md flex items-center justify-center text-[28px]
                          ${s.level!=="hero"&&"hover:border-color2 hover:text-color2 cursor-pointer"} duration-300`,onClick:()=>C(s.account_id,s.type),children:e.jsxs("svg",{width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M6 12.834V2.33398",className:`${s.level!=="hero"?"stroke-white group-hover:stroke-color2":"stroke-color4"} duration-300`,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M10.6673 5.83366L6.00065 1.16699L1.33398 5.83366",className:`${s.level!=="hero"?"stroke-white group-hover:stroke-color2":"stroke-color4"} duration-300`,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("div",{className:`group w-[30px] h-[30px] border border-color4 
                          rounded-md flex items-center justify-center text-[28px]
                          hover:border-color2 hover:text-color2 cursor-pointer duration-300`,onClick:()=>w(s.account_id,s.type),children:e.jsxs("svg",{width:"20px",height:"20px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),e.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("g",{id:"SVGRepo_iconCarrier",children:e.jsx("path",{className:"fill-white group-hover:fill-color2 duration-300",d:`M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 
                                28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 
                                364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 
                                49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 
                                1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 
                                109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 
                                828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 
                                1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 
                                357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 
                                32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 
                                42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 
                                64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 
                                20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 
                                27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 
                                113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 
                                20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 
                                288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 
                                1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 
                                24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 
                                128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z`})})]})})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`group w-[30px] h-[30px] border border-color4 
                          rounded-md flex items-center justify-center text-[28px]
                          hover:border-color2 hover:text-color2 cursor-pointer duration-300`,onClick:()=>f(s.account_id,s.type,s.favorite),children:e.jsx("svg",{width:"19",height:"17",viewBox:"0 0 19 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.5 16.375L8.23125 15.242C3.725 11.2337 0.75 8.59012 0.75 5.34571C0.75 2.70211 2.8675 0.625 5.5625 0.625C7.085 0.625 8.54625 1.32023 9.5 2.41887C10.4537 1.32023 11.915 0.625 13.4375 0.625C16.1325 0.625 18.25 2.70211 18.25 5.34571C18.25 8.59012 15.275 11.2337 10.7687 15.2506L9.5 16.375Z",className:`${s.favorite?"fill-color2 stroke-color2":" stroke-white"} group-hover:stroke-color2 duration-300`,strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("div",{className:`group w-[30px] h-[30px] border border-color4 
                          rounded-md flex items-center justify-center text-[28px]
                          hover:border-color2 hover:text-color2 cursor-pointer duration-300`,onClick:()=>w(s.account_id,s.type),children:e.jsxs("svg",{width:"18",height:"14",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M11.25 7C11.25 8.24268 10.2427 9.25 8.99998 9.25C7.75738 9.25 6.75 8.24268 6.75 7C6.75 5.75732 7.75738 4.75 8.99998 4.75C10.2427 4.75 11.25 5.75732 11.25 7Z",className:"stroke-white group-hover:stroke-color2 duration-300",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.00041 1.75C5.64217 1.75 2.79946 3.95716 1.84375 7C2.79945 10.0428 5.64217 12.25 9.00041 12.25C12.3586 12.25 15.2013 10.0428 16.1571 7C15.2013 3.95718 12.3586 1.75 9.00041 1.75Z",className:"stroke-white group-hover:stroke-color2 duration-300",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})})]},t)}):e.jsx("p",{className:"py-32 text-2xl text-white font-bold",children:"No account has been added."})})]}),e.jsxs("div",{className:"master-accounts-box mx-auto relative mt-8 w-full flex flex-col gap-5 items-center  lg:flex-row lg:justify-start 2xl:justify-center",children:[e.jsx(W,{currentPage:r,totalPageNum:Math.floor((v-1)/p),handleClickPrevButton:b,handleClickNextButton:k,setCurrentPage:a}),e.jsxs("div",{className:"flex lg:absolute lg:right-0 items-center gap-2",children:[e.jsx("label",{className:"text-white text-base",children:"Display:"}),e.jsx("div",{className:"display-styled-select",children:e.jsxs("select",{value:p,onChange:_,children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"})]})})]})]})]})},P=()=>{const[i,n]=c.useState(0),[r,a]=c.useState(!1),[p,y]=c.useState([]),[v,j]=c.useState(0),[x,l]=c.useState(0),[h,u]=c.useState(5),[_,b]=c.useState(!1),k=D(),w=A();c.useEffect(()=>{(async()=>{b(!0);const t=L({acc_type:i,current_page:x,display_count:h});await w(E({encrypted:t})).then(d=>{const o=R(d.encrypted);y(o.accounts),j(o.totalCount),b(!1)})})()},[i,r,h,x]);const C=()=>{k("/dashboard/integrations/masters/plan")},f=g=>{n(g),l(0),u(5)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-full mt-10",children:e.jsx(I,{title:"Masters"})}),e.jsx("div",{className:"mt-8 mb-4 w-full flex justify-end",children:e.jsx(S,{text:"+ ADD",className:"w-full md:w-[186px] h-[56px]",handleClick:C})}),e.jsxs("div",{className:"relative w-full flex justify-center border-2 border-color4 rounded-xl",children:[e.jsx("img",{src:"/icons/top-left.webp",alt:"Top left icon",title:"This is general icon",className:"absolute top-4 left-4"}),e.jsx("img",{src:"/icons/top-right.webp",alt:"Top right icon",title:"This is general icon",className:"absolute top-4 right-4"}),e.jsx("img",{src:"/icons/bottom-left.webp",alt:"Bottom left icon",title:"This is general icon",className:"absolute bottom-4 left-4"}),e.jsx("img",{src:"/icons/bottom-right.webp",alt:"Bottom right icon",title:"This is general icon",className:"absolute bottom-4 right-4"}),e.jsxs("div",{className:"py-16 w-full",children:[e.jsx("div",{className:"master-accounts-box mx-auto flex gap-6 flex-col items-end lg:flex-row justify-between lg:items-center",children:e.jsx("div",{className:"customized-scrollbar-x p-2 w-full overflow-auto",children:e.jsxs("div",{className:"mx-auto md:mx-0 w-[360px] flex gap-6",children:[e.jsx("div",{className:`h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${i===0?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>f(0),children:"All Masters"}),e.jsx("div",{className:`h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${i===1?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>f(1),children:"Favorites"}),e.jsx("div",{className:`h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${i===2?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>f(2),children:"My Masters"})]})})}),e.jsx(q,{isDataLoading:_,data:p,setChangeStatus:a,changeStatus:r,currentPage:x,setCurrentPage:l,displayCount:h,setDisplayCount:u,totalCount:v})]})]})]})})};export{P as default};
