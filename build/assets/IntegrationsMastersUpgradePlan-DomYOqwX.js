import{j as e,B as I,m as P,a as S,r as s,h as v,t as U}from"./index-C3s5vc-C.js";import{P as k}from"./PlanCard-Ccc-7_Vr.js";import{t as B,v as D}from"./DashboardActions-CO5jeu5s.js";import{b as M}from"./stack-DOGBLlDl.js";import{B as _}from"./ButtonComponentWhite-D_gsyfBL.js";/* empty css                    */import{M as b}from"./index-BFbfZVqN.js";import"./zoom-BHLiaLU8.js";import"./index-DcfIKM1A.js";const A=({isOpen:c,setIsOpen:o,handleUpgrade:n,type:r})=>{const d=()=>{o(!1)};return e.jsx(e.Fragment,{children:e.jsx(b,{open:c,centered:!0,width:600,onCancel:()=>o(!1),maskClosable:!1,className:"upgrade-confirm-modal",footer:!1,children:e.jsxs("div",{className:"px-6 py-10 flex flex-col gap-10 md:px-10 ",children:[e.jsxs("p",{className:"text-xl text-white",children:["Are you sure you want to proceed with the",r==="Upgrade"?" upgrade?":"downgrade?"]}),e.jsx("div",{className:"w-full flex items-center justify-end",children:e.jsxs("div",{className:"w-full grid grid-cols-1 items-center justify-between gap-5 sm:grid-cols-2 sm:w-[350px]",children:[e.jsx(I,{className:"w-full h-[56px]",text:r,handleClick:()=>n()}),e.jsx(_,{className:"w-full h-[56px]",text:"Cancel",handleClick:d})]})})]})})})},G=()=>{const[c,o]=P(),n=S(),[r,d]=s.useState(""),[m,f]=s.useState(""),[l,i]=s.useState(0),[h,p]=s.useState(!1),[x,g]=s.useState(0),[y,w]=s.useState("");s.useEffect(()=>{const a=c.get("account_id");a&&d(a);const t=c.get("type");t&&f(t),(async()=>{await n(B({account_id:a||"",type:t||""})).then(N=>{i(N.levelIndex)})})()},[]);const j=async a=>{if(l===a)return;p(!1);const u=v({type:m,acc_id:r,plan:a});await n(D({encrypted:u})).then(()=>{U.success("Plan has been updated successfully!"),i(a)}).catch(()=>{})},C=(a,t)=>{g(a),w(t),p(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto 2xl:w-[800px] grid grid-cols-1 md:grid-cols-2 gap-8 2xl:gap-12",children:M.map((a,t)=>e.jsx(k,{item:a,className:"w-full",handleClick:()=>C(t,t>l?"Upgrade":"Downgrade"),type:t>l?"upgrade":"downgrade",disabled:l===t},t))}),e.jsx(A,{isOpen:h,setIsOpen:p,handleUpgrade:()=>j(x),type:y})]})};export{G as default};
