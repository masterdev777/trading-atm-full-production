import{j as a,m as W,u as z,a as G,b as K,r as o,B as O,e,l as b,t as i,p as q}from"./index-CndeRajg.js";import{w as H,x as J,y as F,z as B,A as Q,B as V}from"./DashboardActions-BP3iLw6C.js";import{S as X}from"./SettingCard-8o0ZIiMZ.js";import{B as Z}from"./ButtonComponentWhite-DR9ggAwR.js";import{I as ee}from"./IntegrationUploadImage-CZPBnbJ9.js";import{D as j,U as ae}from"./uploading-CH-L5bGA.js";import{l as te}from"./stack-DOGBLlDl.js";/* empty css                    */const ce=()=>a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-full  h-[472px] bg-transparent flex items-center justify-center",children:a.jsxs("div",{role:"status",className:"flex flex-col items-center gap-5",children:[a.jsx("img",{src:"/icons/preloader.gif",className:"size-[100px]",alt:"Website preloader",title:"This is loading animation"}),a.jsxs("span",{className:"mx-auto text-center text-2xl font-bold text-color5",children:["Takes some time to connect to Tradelocker Server. ",a.jsx("br",{}),"Please wait..."]})]})})}),ue=({role:n})=>{const[A,se]=W(),x=z(c=>c.auth),d=G(),m=K(),[D,f]=o.useState(!1),[t,I]=o.useState({acc_name:"",acc_password:"",acc_id:"",acc_email:"",server_name:""}),[p,L]=o.useState(0),[g,U]=o.useState(0),[N,P]=o.useState({per_hour:"0"}),[k,E]=o.useState(""),[T,$]=o.useState(!1),[y,M]=o.useState(j),[S,C]=o.useState(0);o.useEffect(()=>{const c=A.get("level_index"),r=A.get("type");c&&(c!=="0"&&c!=="1"&&c!=="2"&&c!=="3"&&m("/dashboard/integrations/home"),L(parseInt(c))),r==="demo"&&C(0),r==="live"&&C(1)},[]);const Y=async()=>{const c={email:t.acc_email.trim(),password:t.acc_password,server:t.server_name.trim()};f(!0),S===0?await H(c).then(async r=>{await J(r.accessToken).then(async l=>{let v=!1,u=0,_=0;for(let s=0;s<l.length;s++)if(l[s].id===t.acc_id){v=!0,u=parseInt(l[s].accNum),_=parseFloat(l[s].accountBalance);break}if(v){if(n==="master"){const s={encrypted_acc_num:e(u),encrypted_account_balance:e(_),access_token:r.accessToken,refresh_token:r.refreshToken,encrypted_acc_email:e(t.acc_email),encrypted_acc_id:e(t.acc_id),encrypted_acc_password:e(t.acc_password),encrypted_server_name:e(t.server_name),encrypted_acc_name:e(t.acc_name),encrypted_type:e("tld"),encrypted_id:e(x.user.id),encrypted_is_profit_share:e(g),encrypted_profit_share:e(g===0?N:{per_hour:"0"}),description:k,avatar:y===j?"":y,encrypted_index_level:e(p),encrypted_private_account:e(T)};await d(F({encrypted:s})).then(async h=>{await d(b()),h.status===200?i.success("Master Account Added Successfully!"):h.status===201&&i.warning(h.data),m("/dashboard/masters")})}else if(n==="copier"){const s={encrypted_acc_num:e(u),encrypted_account_balance:e(_),access_token:r.accessToken,refresh_token:r.refreshToken,encrypted_acc_email:e(t.acc_email),encrypted_acc_id:e(t.acc_id),encrypted_acc_password:e(t.acc_password),encrypted_server_name:e(t.server_name),encrypted_acc_name:e(t.acc_name),encrypted_type:e("tld"),encrypted_id:e(x.user.id),avatar:x.user.avatar};await d(B({encrypted:s})).then(async h=>{await d(b()),h.status===200?i.success("Copier Account Added Successfully!"):h.status===201&&i.warning(h.data),m("/dashboard/copiers")})}}else i.warning("No account exist!");f(!1)})}).catch(()=>{i.warning("No this account exists!"),f(!1)}):S===1&&await Q(c).then(async r=>{await V(r.accessToken).then(async l=>{let v=!1,u=0,_=0;for(let s=0;s<l.length;s++)if(l[s].id===t.acc_id){v=!0,u=parseInt(l[s].accNum),_=parseFloat(l[s].accountBalance);break}if(v){if(n==="master"){const s={encrypted_acc_num:e(u),encrypted_account_balance:e(_),access_token:r.accessToken,refresh_token:r.refreshToken,encrypted_acc_email:e(t.acc_email),encrypted_acc_id:e(t.acc_id),encrypted_acc_password:e(t.acc_password),encrypted_server_name:e(t.server_name),encrypted_acc_name:e(t.acc_name),encrypted_type:e("tll"),encrypted_id:e(x.user.id),encrypted_is_profit_share:e(g),encrypted_profit_share:e(g===0?N:{per_hour:"0"}),description:k,avatar:y===j?"":y,encrypted_index_level:e(p),encrypted_private_account:e(T)};await d(F({encrypted:s})).then(async()=>{await d(b()),i.success("Master Account Added Successfully!"),m("/dashboard/masters")})}else if(n==="copier"){const s={encrypted_acc_num:e(u),encrypted_account_balance:e(_),access_token:r.accessToken,refresh_token:r.refreshToken,encrypted_acc_email:e(t.acc_email),encrypted_acc_id:e(t.acc_id),encrypted_acc_password:e(t.acc_password),encrypted_server_name:e(t.server_name),encrypted_acc_name:e(t.acc_name),encrypted_type:e("tll"),encrypted_id:e(x.user.id),avatar:x.user.avatar};await d(B({encrypted:s})).then(async()=>{await d(b()),i.success("Copier Account Added Successfully!"),m("/dashboard/copiers")})}}else i.warning("No account exist!");f(!1)})}).catch(()=>{i.warning("No this account exists!"),f(!1)})},w=(c,r)=>{c==="acc_password"?I({...t,[c]:r}):q(r)&&I({...t,[c]:r})},R=()=>{n==="master"&&m(`/dashboard/integrations/masters/selectplatform?index=${p}`),n==="copier"&&m("/dashboard/integrations/copiers/selectplatform")};return a.jsx(a.Fragment,{children:a.jsx("div",{className:"mt-16",children:a.jsxs("div",{className:"relative w-full h-auto rounded-xl rounded-tl-[30px] border-2 border-color4 bg-gradient-to-br from-[#FFFFFF03] to-[#FFFFFF01]",children:[a.jsx("img",{src:"/icons/tradelocker-left.webp",alt:"Tradelocker icon",title:"This is left icon",className:"absolute top-0 left-0 w-[100px] h-[100px]"}),a.jsx("img",{src:"/icons/top-right.webp",alt:"Top right icon",title:"This is general icon",className:"absolute top-[18px] right-[18px] w-[67px] h-[67px]"}),a.jsx("img",{src:"/icons/bottom-right.webp",alt:"Bottom right icon",title:"This is general icon",className:"absolute bottom-[18px] right-[18px] w-[67px] h-[67px]"}),a.jsx("img",{src:"/icons/bottom-left.webp",alt:"Bottom left icon",title:"This is general icon",className:"absolute bottom-[18px] left-[18px] w-[67px] h-[67px]"}),a.jsx("div",{className:"my-16 flex items-center justify-center",children:D?a.jsx(ce,{}):a.jsxs("div",{className:"w-[80%] flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"w-full flex items-center gap-5",children:[a.jsxs("h2",{className:"hidden md:block text-[32px] text-white",children:["Tradelocker ",n==="master"?"Master":"Copier"]}),a.jsx("h2",{className:"block md:hidden text-[32px] text-white",children:"Tradelocker"}),n==="master"&&p?a.jsx("img",{src:te[p],alt:"Level icon",title:"This is icon to show account level",className:"h-[28px]"}):a.jsx(a.Fragment,{})]}),a.jsx("div",{className:"mt-8 w-full font-bold text-xl text-white",children:"Basic information :"}),a.jsxs("div",{className:"my-8 w-full flex-col flex lg:flex-row lg:justify-between gap-6 lg:gap-0",children:[a.jsx("div",{className:`${n==="copier"&&"hidden"} w-[130px] h-[130px] rounded-full border-4 ${p===3?"border-herocolor":p===2?"border-goldcolor":p===1?"border-silvercolor":"border-color4"}`,children:a.jsx(ee,{avatarURL:y,setAvatarURL:M,DefaultImage:j,UploadingAnimation:ae,className:"w-[122px] h-[122px]",className1:"bottom-12 right-[68px]",className2:"bottom-12 right-[32px]"})}),a.jsxs("div",{className:`${n==="master"?"integration-input-group":"w-full"} grid grid-cols-1 md:grid-cols-2 gap-4`,children:[a.jsx("input",{type:"email",value:t.acc_email,className:"focus:outline-none h-[56px] rounded-lg border-2 border-color4 px-4 text-white text-sm bg-transparent",placeholder:"Input Your Tradelocker Account Email",onChange:c=>w("acc_email",c.target.value)}),a.jsx("input",{value:t.acc_id,className:"focus:outline-none h-[56px] rounded-lg border-2 border-color4 px-4 text-white text-sm bg-transparent",placeholder:"Input Your Tradelocker Account Id",onChange:c=>w("acc_id",c.target.value)}),a.jsx("input",{type:"password",value:t.acc_password,className:"focus:outline-none h-[56px] rounded-lg border-2 border-color4 px-4 text-white text-sm bg-transparent",placeholder:"Input Your Tradelocker Account Password",onChange:c=>w("acc_password",c.target.value)}),a.jsx("input",{value:t.server_name,className:"focus:outline-none h-[56px] rounded-lg border-2 border-color4 px-4 text-white text-sm bg-transparent",placeholder:"Input Your Tradelocker Server Name",onChange:c=>w("server_name",c.target.value)}),a.jsx("input",{value:t.acc_name,className:"focus:outline-none h-[56px] rounded-lg border-2 border-color4 px-4 text-white text-sm bg-transparent",placeholder:"Input Account Name (Displayed on this platform)",onChange:c=>w("acc_name",c.target.value)})]})]}),a.jsx("div",{className:`w-full ${n==="copier"&&"hidden"}`,children:a.jsx(X,{isProfitShare:g,setIsProfitShare:U,profit:N,setProfit:P,description:k,setDescription:E,privateAccount:T,setPrivateAccount:$})}),a.jsxs("div",{className:"mt-6 w-full flex justify-end gap-5",children:[a.jsx(Z,{text:"GO BACK",className:"w-full sm:w-[216px] h-[56px]",handleClick:R}),a.jsx(O,{text:"+ ADD",className:"w-full sm:w-[216px] h-[56px]",handleClick:Y})]})]})})]})})})};export{ue as T};
