import{j as e,B as R,r as c,a as B,b as z,u as q,A as E,t as C,g as M}from"./index-D6LNu3uc.js";import{T as P}from"./TitleComponent-DwM-w_37.js";import{H as T}from"./HomeBannerCard-S4K03sH2.js";import{d as L}from"./DashboardActions-Bnzxt48J.js";import{C as H}from"./CustomPagination-IZObAgEm.js";import{B as U}from"./ButtonComponentWhite-BZ6-4gbc.js";import{M as $}from"./index-B8VYv5wx.js";import{l as _}from"./stack-DOGBLlDl.js";/* empty css                  */import"./zoom-BOKeR0J-.js";import"./index-DcfIKM1A.js";const F=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"mt-6 w-[600px] lg:w-full ",children:e.jsxs("div",{className:"dashboard-accounts-item h-[40px] flex text-base text-color5 border-b-2 border-color4",children:[e.jsx("div",{className:"basis-[30%] flex justify-end",children:"ACC NAME"}),e.jsx("div",{className:"pl-7 basis-[15%] flex justify-start",children:"ROLE"}),e.jsx("div",{className:"pl-4 basis-[20%] flex justify-start",children:"TYPE"}),e.jsx("div",{className:"basis-[20%] flex justify-end",children:"STATUS"}),e.jsx("div",{className:"basis-[15%] flex justify-center",children:"ACTION"})]})})}),I=({isOpen:t,setIsOpen:r,handleDeleteAccount:l})=>{const d=()=>{r(!1)};return e.jsx(e.Fragment,{children:e.jsx($,{open:t,centered:!0,width:600,onCancel:()=>r(!1),maskClosable:!1,className:"delete-account-confirm-modal",footer:!1,children:e.jsxs("div",{className:"px-6 py-10 flex flex-col gap-10 md:px-10 ",children:[e.jsx("p",{className:"text-xl text-white",children:"Are you certain you wish to proceed with the deletion of this account?"}),e.jsx("div",{className:"w-full flex items-center justify-end",children:e.jsxs("div",{className:"w-full grid grid-cols-1 items-center justify-between gap-5 sm:grid-cols-2 sm:w-[300px]",children:[e.jsx(R,{className:"w-full h-[56px]",text:"Delete",handleClick:()=>l()}),e.jsx(U,{className:"w-full h-[56px]",text:"Cancel",handleClick:d})]})})]})})})},A=({isUpdated:t,setIsUpdated:r,data:l})=>{const[d,k]=c.useState(5),[n,x]=c.useState(0),[b,g]=c.useState(!1),[a,D]=c.useState({type:"",acc_id:"",acc_role:"",acc_status:""}),u=B(),S=z(),p=q(s=>s.auth),j=s=>{const o=parseInt(s.target.value);k(o),x(0)},v=(s,o,i)=>{u({type:E.AUTH_USER,payload:{currentAnalysisAccount:{account_id:s,type:o,role:i}}}),S("/dashboard/tradinganalysis")},f=(s,o,i,h)=>{D({type:s,acc_id:o,acc_role:i,acc_status:h}),g(!0)},w=async()=>{g(!1);const s=a==null?void 0:a.type,o=a==null?void 0:a.acc_id,i=a==null?void 0:a.acc_role,h=a==null?void 0:a.acc_status;i==="Master"?parseInt(h)>0?C.warning("This account cannot be deleted as there are currently active copier accounts that are subscribed to and replicating the trading activities of this master account."):await u(L(s,o,i)).then(async()=>{await u(M()).then(()=>{r(!t),C.success("Account Successfully Deleted!")})}):i==="Copier"&&(h==="Running"||h==="Stopped"||h==="Connected"?C.warning("Deleting this account is not permitted while it is in an active state. To proceed with the deletion process, you must first terminate the connection and dissociate this account from its designated master account."):await u(L(s,o,i)).then(async()=>{await u(M()).then(()=>{r(!t),C.success("Account Successfully Deleted!")})}))},N=()=>{x(n===0?0:n-1)},y=()=>{(n+1)*d>=l.length?x(n):x(n+1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"customized-scrollbar-x dashboard-accounts-box overflow-x-auto mx-auto",children:[e.jsx(F,{}),e.jsx("div",{className:`customized-scrollbar-y overflow-y-auto w-[600px] min-h-[400px] lg:w-auto flex flex-col ${!(l!=null&&l.length)&&"items-center justify-center"}`,children:(l==null?void 0:l.length)>0?l.map((s,o)=>o<(n+1)*d&&o>=n*d&&e.jsxs("div",{className:"dashboard-accounts-item h-[80px] flex items-center border-b-color4 border-b-2",children:[e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center",children:s.role==="Master"?e.jsxs("div",{className:`relative w-[64px] h-[64px] rounded-full border-2 
                              ${s.level==="hero"?"border-herocolor":s.level==="gold"?"border-goldcolor":s.level==="silver"?"border-silvercolor":"border-color5"}`,children:[s.avatar?e.jsx("img",{src:s.avatar,alt:"Account avatar",title:"This is avatar of account",className:"w-[60px] h-[60px] rounded-full"}):e.jsx("img",{src:"/icons/user-icon.webp",alt:"User icon",title:"This is default icon",className:"w-[60px] h-[60px] rounded-full"}),e.jsx("img",{src:s.level==="hero"?_[3]:s.level==="gold"?_[2]:s.level==="silver"?_[1]:_[0],alt:"Plan icon",title:"This is to show plan",className:`${(s.level==="basic"||!s.level)&&"hidden"} absolute bottom-[-2px] right-[-3px]  w-[20px] h-[20px]`})]}):e.jsxs("div",{className:"relative w-[64px] h-[64px] border-color2 border-2 rounded-full",children:[s.avatar?e.jsx("img",{src:s.avatar,alt:"Account avatar",title:"This is avatar of account",className:"w-[60px] h-[60px] rounded-full"}):e.jsx("img",{src:"/icons/user-icon.webp",alt:"User icon",title:"This is default icon",className:"w-[60px] h-[60px] rounded-full"}),e.jsx("img",{src:"/icons/verify-icon.webp",alt:"Plan icon",title:"This is to show plan",className:"absolute bottom-[0px] right-[0px]  w-[15px] h-[15px]"})]})}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:e.jsx("div",{className:"inline-block w-[80px] whitespace-nowrap overflow-hidden text-ellipsis text-right",children:s.account_name})}),e.jsx("div",{className:"pl-7 h-[80px] basis-[15%] flex justify-start items-center text-white text-base",children:s.role}),e.jsxs("div",{className:"pl-4 h-[80px] basis-[20%] flex justify-start items-center text-white text-base",children:[s.type==="mt4"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/metatrader4-square.webp",alt:"Metatrader4 square icon",title:"This is square logo to show metatrader4",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"MT - 4"})]}),s.type==="mt5"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/metatrader5-square.webp",alt:"Metatrader5 square icon",title:"This is square logo to show metatrader5",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"MT - 5"})]}),s.type==="tll"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/tradelocker-square.webp",alt:"Tradelocker square icon",title:"This is square logo to show tradelocker",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"TL - Li"})]}),s.type==="tld"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/tradelocker-square.webp",alt:"Tradelocker square icon",title:"This is square logo to show tradelocker",className:"w-[37px] h-[36px]"}),e.jsx("p",{className:"text-base text-white",children:"TL - De"})]})]}),e.jsxs("div",{className:`h-[80px] basis-[20%] flex justify-end items-center text-base ${s.status==="Running"?"text-[#39DC01]":s.status==="Stopped"?"text-[#E66C12]":s.status==="Connected"?"text-color1":"text-white"}`,children:[s.role==="Copier"&&(s.status==="Nothing"||!s.status?"N/A":s.status),s.role==="Master"&&s.status+"/",s.role==="Master"?s.level==="hero"?"âˆž":s.level==="gold"?p.levelToLimit[2].limit_value:s.level==="silver"?p.levelToLimit[1].limit_value:p.levelToLimit[0].limit_value:""]}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-center items-center text-white",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`w-[30px] h-[30px] border border-color4 
                            rounded-md flex items-center justify-center text-[28px]
                            hover:border-color2 hover:text-color2 cursor-pointer duration-300`,children:e.jsxs("svg",{width:"20px",height:"20px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),e.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("g",{id:"SVGRepo_iconCarrier",children:e.jsx("path",{className:"fill-white group-hover:fill-color2 duration-300",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"})})]})}),e.jsx("div",{className:"z-10 hidden group-hover:block absolute right-0 w-36 bg-color3 border border-color4 rounded-lg",children:e.jsxs("ul",{className:"px-4 py-3 text-sm text-white",children:[e.jsx("li",{className:"py-1 cursor-pointer hover:text-color2",onClick:()=>f(s.type,s.account_id,s.role,s.status),children:"Delete Account"}),e.jsx("li",{className:"py-1 cursor-pointer hover:text-color2",onClick:()=>v(s.account_id,s.type,s.role),children:"Analysis"})]})})]})})]},o)):e.jsx("p",{className:"text-2xl text-white font-bold",children:"No account has been added."})})]}),e.jsxs("div",{className:"dashboard-accounts-box mx-auto relative mt-8 w-full flex flex-col gap-5 items-center lg:flex-row md:justify-start",children:[e.jsx(H,{currentPage:n,totalPageNum:Math.floor(((l==null?void 0:l.length)-1)/d),handleClickPrevButton:N,handleClickNextButton:y,setCurrentPage:x}),e.jsxs("div",{className:"flex lg:absolute lg:right-0 items-center gap-2",children:[e.jsx("label",{className:"text-white text-base",children:"Display:"}),e.jsx("div",{className:"display-styled-select",children:e.jsxs("select",{value:d,onChange:j,children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"})]})})]})]}),e.jsx(I,{isOpen:b,setIsOpen:g,handleDeleteAccount:w})]})},se=()=>{const t=q(f=>f.auth),[r,l]=c.useState(0),[d,k]=c.useState([]),[n,x]=c.useState([]),[b,g]=c.useState(0),[a,D]=c.useState(0),[u,S]=c.useState(0),[p,j]=c.useState(!1);c.useEffect(()=>{(()=>{var s,o,i,h;((s=t.user.masters)==null?void 0:s.length)>=0&&g((o=t.user.masters)==null?void 0:o.length),((i=t.user.copiers)==null?void 0:i.length)>=0&&D((h=t.user.copiers)==null?void 0:h.length);let w=0,N=[],y=[];for(let m=0;m<t.accounts.length;m++)t.accounts[m].role==="Copier"&&t.accounts[m].status==="Running"&&w++,t.accounts[m].role==="Copier"&&y.push(t.accounts[m]),t.accounts[m].role==="Master"&&N.push(t.accounts[m]);k(N),x(y),S(w)})()},[p]);const v=f=>{l(f)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full h-full flex flex-col  gap-4",children:[e.jsx("div",{className:"w-full mt-10",children:e.jsx(P,{title:"Dashboard"})}),e.jsxs("div",{className:"mt-8 dashboard-home-layout w-full pb-4 gap-4",children:[e.jsxs("div",{className:"dashboard-home-left relative w-full border-2 border-color4 rounded-xl",children:[e.jsx("img",{src:"/icons/top-left.webp",alt:"Top left icon",title:"This is general icon",className:"absolute top-4 left-4"}),e.jsx("img",{src:"/icons/top-right.webp",alt:"Top right icon",title:"This is general icon",className:"absolute top-4 right-4"}),e.jsx("img",{src:"/icons/bottom-left.webp",alt:"Bottom left icon",title:"This is general icon",className:"absolute bottom-4 left-4"}),e.jsx("img",{src:"/icons/bottom-right.webp",alt:"Bottom right icon",title:"This is general icon",className:"absolute bottom-4 right-4"}),e.jsxs("div",{className:"py-16",children:[e.jsx("div",{className:"dashboard-accounts-box mx-auto flex flex-col gap-10 md:flex-row md:justify-between items-end",children:e.jsx("div",{className:"p-2 w-full overflow-auto customized-scrollbar-x",children:e.jsxs("div",{className:"mx-auto md:mx-0 w-[270px] flex gap-6",children:[e.jsx("div",{className:`h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${r===0?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>v(0),children:"All Accounts"}),e.jsx("div",{className:`h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${r===1?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>v(1),children:"Masters"}),e.jsx("div",{className:`h-[28px] text-base cursor-pointer hover:border-b hover:border-b-color2 ${r===2?"text-white font-bold border-b border-b-color2":"text-color5"}`,onClick:()=>v(2),children:"Copiers"})]})})}),r===0&&e.jsx(A,{isUpdated:p,setIsUpdated:j,data:t.accounts}),r===1&&e.jsx(A,{isUpdated:p,setIsUpdated:j,data:d}),r===2&&e.jsx(A,{isUpdated:p,setIsUpdated:j,data:n})]})]}),e.jsxs("div",{className:"dashboard-home-right",children:[e.jsx(T,{title:b+a?(b+a).toString():"0",background_left_img:"home-banner-card1-left.webp",background_right_img:"home-banner-card1-right.webp",text:"Total Accounts",className:"h-32",className1:"text-white"}),e.jsx(T,{title:b?b.toString():"0",background_left_img:"home-banner-card2-left.webp",background_right_img:"home-banner-card2-right.webp",text:"Master Accounts",className:"h-32",className1:"text-white"}),e.jsx(T,{title:a?a.toString():"0",background_left_img:"home-banner-card3-left.webp",background_right_img:"home-banner-card3-right.webp",text:"Copier Accounts",className:"h-32",className1:"text-white"}),e.jsx(T,{title:u?u.toString():"0",background_left_img:"home-banner-card4-left.webp",background_right_img:"home-banner-card4-right.webp",text:"Running Copiers",className:"h-32",className1:"text-white"})]})]})]})})};export{se as default};
