import{m as C,r as l,a as D,j as e,h as T,k as _,t as k,b as S,B}from"./index-rye1cYFt.js";import{T as P}from"./TradingHistoryColumn-Ds79gNA8.js";import{j as H}from"./DashboardActions-UTFnGBGA.js";import{h as F}from"./moment-C5S46NFB.js";import{D as L}from"./DataLoading-B0_VbNxE.js";import{C as Y}from"./CustomPagination-hCvEFKq5.js";/* empty css                */import{T as A}from"./TitleComponent-BqHVdEZx.js";const E=()=>{const[c,h]=C(),[s,a]=l.useState(0),[o,p]=l.useState(5),[n,u]=l.useState([]),[r,f]=l.useState(0),[g,d]=l.useState(!1),j=D();l.useEffect(()=>{const t=c.get("account_id"),i=c.get("type");d(!0),(async()=>{if(t&&i){const v=T({current_page:s,display_count:o,copier_acc_id:t,copier_acc_type:i});await j(H({encrypted:v})).then(w=>{const m=_(w.encrypted);m.tradingHistory&&u(m.tradingHistory),f(m.tradingCount),d(!1)}).catch(()=>{k.error("Data Loading Failed"),d(!1)})}})()},[s,o]);const b=t=>{const i=parseInt(t.target.value);p(i),a(0)},y=()=>{a(s===0?0:s-1)},N=()=>{(s+1)*o>=r?a(s):a(s+1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 copier-accounts-box customized-scrollbar-x overflow-x-auto mx-auto",children:[e.jsx(P,{}),e.jsx("div",{className:`copier-accounts-data mx-auto flex flex-col ${!n.length&&"items-center justify-center"}`,children:g?e.jsx(L,{}):n.length>0?n.map((t,i)=>{var x;return e.jsxs("div",{className:"billing-accounts-item h-[80px] flex items-center border-b-color4 border-b-2",children:[e.jsx("div",{className:"h-[80px] basis-[20%] flex justify-end items-center text-white text-base",children:e.jsx("div",{className:"inline-block w-[100px] whitespace-nowrap overflow-hidden text-ellipsis text-right",children:F(t.payment_date).format("MM/DD/YYYY hh:mm:ss A")})}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:t.kind}),e.jsx("div",{className:"h-[80px] basis-[23%] flex justify-end items-center text-white text-base",children:e.jsx("p",{className:"w-[90%] text-right text-sm",children:t==null?void 0:t.copier_acc_name})}),e.jsx("div",{className:"h-[80px] basis-[23%] flex justify-end items-center text-white text-base",children:e.jsx("p",{className:"w-[90%] text-right text-sm",children:t==null?void 0:t.master_acc_name})}),e.jsx("div",{className:"h-[80px] basis-[10%] flex justify-end items-center text-white text-base",children:t.pay_type}),e.jsx("div",{className:"h-[80px] basis-[14%] flex justify-end items-center text-white text-base",children:-((x=t.amount)==null?void 0:x.toFixed(1))})]},i)}):e.jsx("p",{className:"py-32 text-2xl text-white font-bold",children:"No Trading History Data"})})]}),e.jsxs("div",{className:"billing-accounts-box mx-auto relative mt-8 w-full flex flex-col gap-5 items-center  lg:flex-row lg:justify-start 2xl:justify-center",children:[e.jsx(Y,{currentPage:s,totalPageNum:r===0?0:Math.floor((r-1)/o),handleClickPrevButton:y,handleClickNextButton:N,setCurrentPage:a}),e.jsxs("div",{className:"flex lg:absolute lg:right-0 items-center gap-2",children:[e.jsx("label",{className:"text-white text-base",children:"Display:"}),e.jsx("div",{className:"display-styled-select",children:e.jsxs("select",{value:o,onChange:b,children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"})]})})]})]})]})},q=()=>{const c=S(),h=()=>{c("/dashboard/copiers")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-full mt-10",children:e.jsx(A,{title:"Copiers"})}),e.jsx("div",{className:"mt-8 mb-4 w-full flex justify-end",children:e.jsx(B,{text:"GO BACK",className:"h-[56px] w-full md:w-[186px]",handleClick:h})}),e.jsxs("div",{className:"relative w-full flex justify-center border-2 border-color4 rounded-xl",children:[e.jsx("img",{src:"/icons/top-left.webp",alt:"Top left icon",title:"This is general icon",className:"absolute top-4 left-4"}),e.jsx("img",{src:"/icons/top-right.webp",alt:"Top right icon",title:"This is general icon",className:"absolute top-4 right-4"}),e.jsx("img",{src:"/icons/bottom-left.webp",alt:"Bottom left icon",title:"This is general icon",className:"absolute bottom-4 left-4"}),e.jsx("img",{src:"/icons/bottom-right.webp",alt:"Bottom right icon",title:"This is general icon",className:"absolute bottom-4 right-4"}),e.jsx("div",{className:"py-16 w-full",children:e.jsx(E,{})})]})]})})};export{q as default};
