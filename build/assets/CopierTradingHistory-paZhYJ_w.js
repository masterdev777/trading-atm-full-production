import{j as e,m as T,r as l,a as _,e as k,k as S,t as A,b as P,B as Y}from"./index-DrNo_W5z.js";import{k as E}from"./DashboardActions-DM-LwwvM.js";import{h as p}from"./moment-C5S46NFB.js";import{D as B}from"./DataLoading-DSzbgBrH.js";import{C as H}from"./CustomPagination-DmoonDVj.js";/* empty css                */import{T as M}from"./TitleComponent-BP6yJdDm.js";const F=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"mt-6 mx-auto billing-accounts-column",children:e.jsxs("div",{className:"billing-accounts-item h-[40px] flex text-base text-color5 border-b-2 border-color4",children:[e.jsx("div",{className:"basis-[15%] flex justify-end",children:"START DATE"}),e.jsx("div",{className:"basis-[15%] flex justify-end",children:"END DATE"}),e.jsx("div",{className:"basis-[30%] flex justify-end",children:"MASTER ACC NAME"}),e.jsx("div",{className:"basis-[15%] flex justify-end",children:"PnL($)"}),e.jsx("div",{className:"basis-[15%] flex justify-end",children:"AMOUNT($)"}),e.jsx("div",{className:"basis-[10%] flex justify-end",children:"PAY CYCLE"})]})})}),L=()=>{const[c,u]=T(),[s,a]=l.useState(0),[n,f]=l.useState(5),[r,j]=l.useState([]),[d,g]=l.useState(0),[b,x]=l.useState(!1),y=_();l.useEffect(()=>{const t=c.get("account_id"),i=c.get("type");x(!0),(async()=>{if(t&&i){const C=k({current_page:s,display_count:n,copier_acc_id:t,copier_acc_type:i});await y(E({encrypted:C})).then(D=>{const o=S(D.encrypted);o.tradingHistory&&j(o.tradingHistory),console.log(o.tradingHistory),g(o.tradingCount),x(!1)}).catch(()=>{A.error("Data Loading Failed"),x(!1)})}})()},[s,n]);const N=t=>{const i=parseInt(t.target.value);f(i),a(0)},v=()=>{a(s===0?0:s-1)},w=()=>{(s+1)*n>=d?a(s):a(s+1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 billing-accounts-box customized-scrollbar-x overflow-x-auto mx-auto",children:[e.jsx(F,{}),e.jsx("div",{className:`billing-accounts-data mx-auto flex flex-col ${!r.length&&"items-center justify-center"}`,children:b?e.jsx(B,{}):r.length>0?r.map((t,i)=>{var m,h;return e.jsxs("div",{className:"billing-accounts-item h-[80px] flex items-center border-b-color4 border-b-2",children:[e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:e.jsx("div",{className:"inline-block w-[100px] whitespace-nowrap overflow-hidden text-ellipsis text-right",children:p(t.start_date).format("MM/DD/YYYY")})}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:e.jsx("div",{className:"inline-block w-[100px] whitespace-nowrap overflow-hidden text-ellipsis text-right",children:p(t.end_date).format("MM/DD/YYYY")})}),e.jsx("div",{className:"h-[80px] basis-[30%] flex justify-end items-center text-white text-base",children:e.jsx("p",{className:"w-[90%] text-right text-sm",children:t==null?void 0:t.master_name})}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:(m=t.pnl)==null?void 0:m.toFixed(2)}),e.jsx("div",{className:"h-[80px] basis-[15%] flex justify-end items-center text-white text-base",children:-((h=t.amount)==null?void 0:h.toFixed(2))}),e.jsx("div",{className:"h-[80px] basis-[10%] flex justify-end items-center text-white text-base",children:"Weekly"})]},i)}):e.jsx("p",{className:"py-32 text-2xl text-white font-bold",children:"No Trading History Data"})})]}),e.jsxs("div",{className:"billing-accounts-box mx-auto relative mt-8 w-full flex flex-col gap-5 items-center  lg:flex-row lg:justify-start 2xl:justify-center",children:[e.jsx(H,{currentPage:s,totalPageNum:d===0?0:Math.floor((d-1)/n),handleClickPrevButton:v,handleClickNextButton:w,setCurrentPage:a}),e.jsxs("div",{className:"flex lg:absolute lg:right-0 items-center gap-2",children:[e.jsx("label",{className:"text-white text-base",children:"Display:"}),e.jsx("div",{className:"display-styled-select",children:e.jsxs("select",{value:n,onChange:N,children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"})]})})]})]})]})},z=()=>{const c=P(),u=()=>{c("/dashboard/copiers")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-full mt-10",children:e.jsx(M,{title:"Copiers"})}),e.jsx("div",{className:"mt-8 mb-4 w-full flex justify-end",children:e.jsx(Y,{text:"GO BACK",className:"h-[56px] w-full md:w-[186px]",handleClick:u})}),e.jsxs("div",{className:"relative w-full flex justify-center border-2 border-color4 rounded-xl",children:[e.jsx("img",{src:"/icons/top-left.webp",alt:"Top left icon",title:"This is general icon",className:"absolute top-4 left-4"}),e.jsx("img",{src:"/icons/top-right.webp",alt:"Top right icon",title:"This is general icon",className:"absolute top-4 right-4"}),e.jsx("img",{src:"/icons/bottom-left.webp",alt:"Bottom left icon",title:"This is general icon",className:"absolute bottom-4 left-4"}),e.jsx("img",{src:"/icons/bottom-right.webp",alt:"Bottom right icon",title:"This is general icon",className:"absolute bottom-4 right-4"}),e.jsx("div",{className:"py-16 w-full",children:e.jsx(L,{})})]})]})})};export{z as default};
